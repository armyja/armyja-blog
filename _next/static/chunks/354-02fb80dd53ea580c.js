"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{9829:function(e,t,n){n.d(t,{$t:function(){return c},TQ:function(){return l},Uy:function(){return u}});var r=n(5893),a=n(9008),i=n(1163),o=n(4285),s=function(e){var t=e.title,n=e.description,s=e.ogType,l=e.ogImage,c=e.twImage,u=e.canonicalUrl,d=(0,i.useRouter)();return(0,r.jsxs)(a.default,{children:[(0,r.jsx)("title",{children:t}),(0,r.jsx)("meta",{name:"robots",content:"follow, index"}),(0,r.jsx)("meta",{name:"description",content:n}),(0,r.jsx)("meta",{property:"og:url",content:"".concat(o.Z.siteUrl).concat(d.asPath)}),(0,r.jsx)("meta",{property:"og:type",content:s}),(0,r.jsx)("meta",{property:"og:site_name",content:o.Z.title}),(0,r.jsx)("meta",{property:"og:description",content:n}),(0,r.jsx)("meta",{property:"og:title",content:t}),l.map((function(e){return(0,r.jsx)("meta",{property:"og:image",content:e},e)})),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:site",content:o.Z.twitter}),(0,r.jsx)("meta",{name:"twitter:title",content:t}),(0,r.jsx)("meta",{name:"twitter:description",content:n}),(0,r.jsx)("meta",{name:"twitter:image",content:c}),(0,r.jsx)("link",{rel:"canonical",href:u||"".concat(o.Z.siteUrl).concat(d.asPath)})]})},l=function(e){var t=e.title,n=e.description,a=o.Z.siteUrl+o.Z.socialBanner,i=o.Z.siteUrl+o.Z.socialBanner;return(0,r.jsx)(s,{title:t,description:n,ogType:"website",ogImage:[a],twImage:i})},c=function(e){var t=e.title,n=e.description,l=o.Z.siteUrl+o.Z.socialBanner,c=o.Z.siteUrl+o.Z.socialBanner,u=(0,i.useRouter)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{title:t,description:n,ogType:"website",ogImage:[l],twImage:c}),(0,r.jsx)(a.default,{children:(0,r.jsx)("link",{rel:"alternate",type:"application/rss+xml",title:"".concat(n," - RSS feed"),href:"".concat(o.Z.siteUrl).concat(u.asPath,"/feed.xml")})})]})},u=function(e){var t=e.authorDetails,n=e.title,l=e.summary,c=e.date_published,u=e.date_updated,d=e.url,m=e.images,p=void 0===m?[]:m,f=e.canonicalUrl,g=((0,i.useRouter)(),new Date(c).toISOString()),h=new Date(u||c).toISOString(),x=(0===p.length?[o.Z.socialBanner]:p).map((function(e){return{"@type":"ImageObject",url:"".concat(o.Z.siteUrl).concat(e)}})),y={"@context":"https://schema.org","@type":"Article",mainEntityOfPage:{"@type":"WebPage","@id":d},headline:n,image:x,datePublished:g,dateModified:h,author:t?t.map((function(e){return{"@type":"Person",name:e.name}})):{"@type":"Person",name:o.Z.author},publisher:{"@type":"Organization",name:o.Z.author,logo:{"@type":"ImageObject",url:"".concat(o.Z.siteUrl).concat(o.Z.siteLogo)}},description:l},j=x[0].url;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{title:n,description:l,ogType:"article",ogImage:x.map((function(e){return e.url})),twImage:j,canonicalUrl:f}),(0,r.jsxs)(a.default,{children:[c&&(0,r.jsx)("meta",{property:"article:published_time",content:g}),u&&(0,r.jsx)("meta",{property:"article:modified_time",content:h}),(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(y,null,2)}})]})]})}},2065:function(e,t,n){var r=n(5893),a=n(1664),i=n.n(a),o=n(195);t.Z=function(e){var t=e.text;return(0,r.jsx)(i(),{href:"/tags/".concat((0,o.Z)(t)),children:(0,r.jsx)("a",{className:"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400",children:t.split(" ").join("-")})})}},5581:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(5893),a=n(7966),i=n(2065),o=n(7294);function s(e){var t=e.totalPages,n=e.currentPage,i=n-1>0,o=n+1<=t;return(0,r.jsx)("div",{className:"space-y-2 pt-6 pb-8 md:space-y-5",children:(0,r.jsxs)("nav",{className:"flex justify-between",children:[!i&&(0,r.jsx)("button",{className:"cursor-auto disabled:opacity-50",disabled:!i,children:"\u4e0a\u9875"}),i&&(0,r.jsx)(a.Z,{href:n-1===1?"/blog/":"/blog/page/".concat(n-1),children:(0,r.jsx)("button",{children:"\u4e0a\u9875"})}),(0,r.jsxs)("span",{children:[n," / ",t]}),!o&&(0,r.jsx)("button",{className:"cursor-auto disabled:opacity-50",disabled:!o,children:"\u4e0b\u9875"}),o&&(0,r.jsx)(a.Z,{href:"/blog/page/".concat(n+1),children:(0,r.jsx)("button",{children:"\u4e0b\u9875"})})]})})}var l=n(9870),c=n(4051),u=n.n(c);function d(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(c){return void n(c)}s.done?t(l):Promise.resolve(l).then(r,a)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){d(i,r,a,o,s,"next",e)}function s(e){d(i,r,a,o,s,"throw",e)}o(void 0)}))}}var p="https://sourcegraph.com/.api/graphql",f="200a53748f09b3f682453275d04b126a7f03ded8",g="\nquery ($query: String!) {\n    search(query: $query, version: V2) {\n        results {\n            results {\n            __typename\n            ... on FileMatch {\n                ...FileMatchFields\n            }\n            }\n            limitHit\n            cloning {\n            name\n            }\n            missing {\n            name\n            }\n            timedout {\n            name\n            }\n            matchCount\n            elapsedMilliseconds\n        }\n    }\n}\nfragment FileMatchFields on FileMatch {\n    file {\n      name\n      path\n    }\n    lineMatches {\n      preview\n      lineNumber\n      offsetAndLengths\n      limitHit\n    }\n}\n";function h(e){var t,n,r,a=(null===(t=e.data)||void 0===t||null===(n=t.search)||void 0===n||null===(r=n.results)||void 0===r?void 0:r.results)||[];return 0===a.length?a:a.filter((function(e){return e.lineMatches.length>0})).map((function(e){return e.file.name}))}function x(){return(x=m(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p,{method:"POST",mode:"cors",body:JSON.stringify({query:g,variables:{query:"repo:^github.com/armyja/blog$ path:^data/blog/ file:.(md|mdx)$ ".concat(t)}}),headers:{Authorization:f}});case 2:return n=e.sent,e.t0=h,e.next=6,n.json();case 6:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){return x.apply(this,arguments)},j=n(3857),v=n(6486);function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e){var t=e.posts,n=e.title,c=e.initialDisplayPosts,u=void 0===c?[]:c,d=e.pagination,m=(0,o.useState)(""),p=m[0],f=m[1],g=(0,o.useState)(new Array),h=g[0],x=g[1],b=0===p.trim().length?u.length>0?u:t:h;return(0,o.useEffect)((function(){if(0!==p.trim().length){var e=t.filter((function(e){return(e.title+e.summary+e.tags.join(" ")).toLowerCase().includes(p.toLowerCase())}));x(e);var n=new Set(e.map((function(e){return e.slug})));y(p).then((function(r){var a=new Map(t.map((function(e){return[e.slug,e]}))),i=r.filter((function(e){return(0,j.kL)(e)===t[0].locale})).map((function(e){return e.split(".")[0]})).filter((function(e){return a.has(e)&&!n.has(e)})).map((function(e){return a.get(e)||t[0]}));x(w(e).concat(w(i)))}))}}),[t,p]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"divide-y",children:[(0,r.jsxs)("div",{className:"space-y-2 pt-6 pb-8 md:space-y-5",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10",children:n}),(0,r.jsxs)("div",{className:"relative max-w-lg",children:[(0,r.jsx)("input",{"aria-label":"Search articles",type:"text",onChange:(0,v.debounce)((function(e){return f(e.target.value)}),500),placeholder:"Search articles",className:"block w-full rounded-md border border-gray-300 bg-white px-4 py-2 text-gray-900 focus:border-primary-500 focus:ring-primary-500 dark:border-gray-900 dark:bg-gray-800 dark:text-gray-100"}),(0,r.jsx)("svg",{className:"absolute right-3 top-3 h-5 w-5 text-gray-400 dark:text-gray-300",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})]}),(0,r.jsxs)("ul",{children:[!h.length&&!b&&"No posts found.",b.map((function(e){var t=e.locale,n=e.slug,o=e.date_published,s=e.title,c=e.summary,u=e.tags;return(0,r.jsx)("li",{className:"py-4",children:(0,r.jsxs)("article",{className:"space-y-2 xl:grid xl:grid-cols-4 xl:items-baseline xl:space-y-0",children:[(0,r.jsxs)("dl",{children:[(0,r.jsx)("dt",{className:"sr-only",children:"Published on"}),(0,r.jsx)("dd",{className:"text-base font-medium leading-6 text-gray-500 dark:text-gray-400",children:(0,r.jsx)("time",{dateTime:o,children:(0,l.Z)(o,t)})})]}),(0,r.jsxs)("div",{className:"space-y-3 xl:col-span-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-2xl font-bold leading-8 tracking-tight",children:(0,r.jsx)(a.Z,{href:"/blog/".concat(n),prefixI18n:!0,className:"text-gray-900 dark:text-gray-100",children:s})}),(0,r.jsx)("div",{className:"flex flex-wrap",children:u.map((function(e){return(0,r.jsx)(i.Z,{text:e},e)}))})]}),(0,r.jsx)("div",{className:"prose max-w-none text-gray-500 dark:text-gray-400",children:c})]})]})},n)}))]})]}),d&&d.totalPages>1&&!p&&(0,r.jsx)(s,{currentPage:d.currentPage,totalPages:d.totalPages})]})}},3857:function(e,t,n){n.d(t,{kL:function(){return o},sY:function(){return s}});var r=n(9515),a=n(1463),i=n.n(a);function o(e){var t=!0,n=!1,r=void 0;try{for(var a,o=i().i18n.locales[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;if(e.includes(".".concat(s,".")))return s}}catch(l){n=!0,r=l}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return i().i18n.defaultLocale}function s(){return i().i18n.defaultLocale}t.ZP=(0,r.Z)({supportedLngs:i().i18n.locales,fallbackLng:i().i18n.defaultLocale})},9870:function(e,t,n){var r=n(4285);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.Z.locale,n={year:"numeric",month:"long",day:"numeric"},a=new Date(e).toLocaleDateString(t,n);return a}},195:function(e,t,n){var r=n(9671),a=n.n(r);t.Z=function(e){return a().slug(e)}},1463:function(e){e.exports={i18n:{locales:["zh","en"],defaultLocale:"zh"}}}}]);