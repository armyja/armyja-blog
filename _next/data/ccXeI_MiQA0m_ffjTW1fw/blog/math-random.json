{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var d=Object.create;var l=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var N=(a,c)=>()=>(c||a((c={exports:{}}).exports,c),c.exports),k=(a,c)=>{for(var s in c)l(a,s,{get:c[s],enumerable:!0})},i=(a,c,s,e)=>{if(c&&typeof c==\"object\"||typeof c==\"function\")for(let r of p(c))!u.call(a,r)&&r!==s&&l(a,r,{get:()=>c[r],enumerable:!(e=h(c,r))||e.enumerable});return a};var f=(a,c,s)=>(s=a!=null?d(m(a)):{},i(c||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),g=a=>i(l({},\"__esModule\",{value:!0}),a);var o=N((R,t)=>{t.exports=_jsx_runtime});var M={};k(M,{default:()=>y,frontmatter:()=>b});var n=f(o()),b={title:\"Math.random()\",slug:\"math-random\",date_published:new Date(1462200174e3),date_updated:new Date(1520643677e3),author:\"Jeffey Wang\",tags:\"Node.js\",summary:\"\\u5510\\u7EB3\\u5FB7\\xB7\\u514B\\u52AA\\u7279\\u66FE\\u5728\\u300A\\u8BA1\\u7B97\\u673A\\u7A0B\\u5E8F\\u8BBE\\u8BA1\\u7684\\u827A\\u672F\\u300B\\uFF08\\u5377\\u4E8C\\uFF09\\u4E2D\\u6307\\u51FA\\uFF1A\\u201C\\u5F53\\u4ECA\\u4F7F\\u7528\\u7684\\u5927\\u90E8\\u5206\\u968F\\u673A\\u6570\\u751F\\u6210\\u5668\\u90FD\\u4E0D\\u591F\\u4F18\\u79C0\\uFF0C\\u800C\\u4E14\\u5F00\\u53D1\\u8005\\u503E\\u5411\\u4E8E\\u62FF\\u6765\\u5C31\\u7528\\uFF0C\\u4E0D\\u53BB\\u4E86\\u89E3\\u5177\\u4F53\\u7684\\u751F\\u6210\\u7B56\\u7565\\u3002\\u4EE5\\u81F3\\u4E8E\\u6211\\u4EEC\\u5E38\\u5E38\\u53D1\\u73B0\\u4E00\\u4E9B\\u7565\\u6709\\u7455\\u75B5\\u3001\\u5E74\\u4EE3\\u4E45\\u8FDC\\u7684\\u968F\\u673A\\u6570\\u751F\\u6210\\u5668\\u4F1A\\u88AB\\u76F2\\u76EE\\u5730\\u7528\\u5728\\u4E00\\u4E2A\\u53C8\\u4E00\\u4E2A\\u7684\\u7A0B\\u5E8F\\u4E2D\\uFF0C\\u800C\\u5BF9\\u4E8E\\u5B83\\u4EEC\\u7684\\u5C40\\u9650\\u6027\\uFF0C\\u5374\\u65E0\\u4EBA\\u95EE\\u6D25\\u3002\\u201D\"};function w(a={}){let{wrapper:c}=a.components||{};return c?(0,n.jsx)(c,Object.assign({},a,{children:(0,n.jsx)(s,{})})):s();function s(){let e=Object.assign({p:\"p\",ul:\"ul\",li:\"li\",code:\"code\",a:\"a\",pre:\"pre\",span:\"span\",img:\"img\",h2:\"h2\",h3:\"h3\",blockquote:\"blockquote\"},a.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"\\u5510\\u7EB3\\u5FB7\\xB7\\u514B\\u52AA\\u7279\\u66FE\\u5728\\u300A\\u8BA1\\u7B97\\u673A\\u7A0B\\u5E8F\\u8BBE\\u8BA1\\u7684\\u827A\\u672F\\u300B\\uFF08\\u5377\\u4E8C\\uFF09\\u4E2D\\u6307\\u51FA\\uFF1A\\u201C\\u5F53\\u4ECA\\u4F7F\\u7528\\u7684\\u5927\\u90E8\\u5206\\u968F\\u673A\\u6570\\u751F\\u6210\\u5668\\u90FD\\u4E0D\\u591F\\u4F18\\u79C0\\uFF0C\\u800C\\u4E14\\u5F00\\u53D1\\u8005\\u503E\\u5411\\u4E8E\\u62FF\\u6765\\u5C31\\u7528\\uFF0C\\u4E0D\\u53BB\\u4E86\\u89E3\\u5177\\u4F53\\u7684\\u751F\\u6210\\u7B56\\u7565\\u3002\\u4EE5\\u81F3\\u4E8E\\u6211\\u4EEC\\u5E38\\u5E38\\u53D1\\u73B0\\u4E00\\u4E9B\\u7565\\u6709\\u7455\\u75B5\\u3001\\u5E74\\u4EE3\\u4E45\\u8FDC\\u7684\\u968F\\u673A\\u6570\\u751F\\u6210\\u5668\\u4F1A\\u88AB\\u76F2\\u76EE\\u5730\\u7528\\u5728\\u4E00\\u4E2A\\u53C8\\u4E00\\u4E2A\\u7684\\u7A0B\\u5E8F\\u4E2D\\uFF0C\\u800C\\u5BF9\\u4E8E\\u5B83\\u4EEC\\u7684\\u5C40\\u9650\\u6027\\uFF0C\\u5374\\u65E0\\u4EBA\\u95EE\\u6D25\\u3002\\u201D\"}),(0,n.jsx)(e.p,{children:\"\\u6211\\u5E0C\\u671B\\u5728\\u8BFB\\u8FC7\\u672C\\u6587\\u4E4B\\u540E\\u80FD\\u591F\\u8BA9\\u5927\\u5BB6\\u5BF9\\u4EE5\\u4E0B\\u4E24\\u4EF6\\u4E8B\\u6DF1\\u8868\\u8BA4\\u540C\\uFF0C\\u867D\\u7136\\u5176\\u4E2D\\u4E00\\u4EF6\\u5C1A\\u5B58\\u5728\\u4E89\\u8BAE\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u6211\\u4EEC\\u4E0D\\u5E94\\u8BE5\\u5FFD\\u89C6 V8 PRNG\\uFF08pseudo-random number generator\\uFF09\\u7684\\u5C40\\u9650\\u6027\\uFF0C\\u81F3\\u5C11\\u5E94\\u8BE5\\u4E86\\u89E3\\u66F4\\u5B89\\u5168\\u7684 CSPRNG\\uFF08Cryptographically Secure Pseudo-Random Number Generator\\uFF09\"}),(0,n.jsxs)(e.li,{children:[\"\\u5F53\\u524D V8 \\u5F15\\u64CE\\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u5B58\\u5728\\u95EE\\u9898\"]})]}),(0,n.jsx)(e.p,{children:\"Betable\\uFF08\\u4F5C\\u8005\\u6240\\u5728\\u7684\\u516C\\u53F8\\uFF09\\u7684\\u4E1A\\u52A1\\u975E\\u5E38\\u4F9D\\u8D56\\u968F\\u673A\\u6570\\uFF0C\\u6700\\u5E38\\u89C1\\u7684\\u9700\\u6C42\\u5C31\\u662F\\u751F\\u6210\\u4E00\\u4E2A\\u968F\\u673A\\u6807\\u8BC6\\u7B26\\uFF0C\\u800C\\u4E14\\u5BF9\\u8FD9\\u6807\\u8BC6\\u7B26\\u6709\\u4E00\\u4E2A\\u4E25\\u683C\\u7684\\u8981\\u6C42\\uFF1A\\u4E0D\\u5141\\u8BB8\\u751F\\u6210\\u540C\\u4E00\\u4E2A\\u6807\\u8BC6\\u7B26\\u4E24\\u6B21\\uFF0C\\u4E5F\\u5C31\\u662F\\u675C\\u7EDD\\u78B0\\u649E\\u3002\"}),(0,n.jsx)(e.p,{children:\"\\u4F46\\u4E8B\\u5B9E\\u4E0A\\u5F71\\u54CD\\u78B0\\u649E\\u6548\\u679C\\u7684\\u56E0\\u7D20\\u53EA\\u6709\\u4E24\\u4E2A\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u6807\\u8BC6\\u7B26\\u7684\\u603B\\u91CF\\uFF0C\\u5373\\u6709\\u591A\\u5C11\\u79CD\\u53EF\\u80FD\\u6027\"}),(0,n.jsx)(e.li,{children:\"\\u6807\\u8BC6\\u7B26\\u7684\\u751F\\u6210\\u7B56\\u7565\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u4E3A\\u4E86\\u907F\\u514D\\u57FA\\u4E8E\\u751F\\u65E5\\u6096\\u8BBA\\uFF08\",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Birthday_problem\",children:\"birthday paradox\"}),\"\\uFF09\\u7684\\u653B\\u51FB\\uFF0C\\u6211\\u4EEC\\u751F\\u6210\\u7684\\u6807\\u8BC6\\u7B26\\u7531 \",(0,n.jsx)(e.code,{children:\"64\"}),\" \\u79CD\\u5B57\\u7B26\\uFF08\\u6570\\u5B57\\u3001\\u5927\\u5C0F\\u5199\\u5B57\\u6BCD\\u4EE5\\u53CA \",(0,n.jsx)(e.code,{children:\"-\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"_\"}),\" \\uFF09\\u7EC4\\u6210 \",(0,n.jsx)(e.code,{children:\"22\"}),\" \\u4F4D\\u5B57\\u7B26\\u4E32\\uFF0C\\u6BD4\\u5982 \",(0,n.jsx)(e.code,{children:\"EB5iGydiUL0h4bRu1ZyRIi\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"HV2ZKGVJJklN0eH35IgNaB\"}),\"\\u3002\\u4E5F\\u5C31\\u662F\\u8BF4\\u6807\\u8BC6\\u7B26\\u603B\\u5171\\u5B58\\u5728 2^132 \\u79CD\\u53EF\\u80FD\\u6027\\uFF0C\\u5982\\u679C\\u6BCF\\u79D2\\u4F1A\\u751F\\u6210\\u4E00\\u767E\\u4E07\\u4E2A\\u6807\\u8BC6\\u7B26\\uFF0C\\u90A3\\u4E48\\u5728\\u672A\\u6765\\u4E09\\u767E\\u5E74\\u5185\\u53D1\\u751F\\u78B0\\u649E\\u7684\\u51E0\\u7387\\u53EA\\u6709\\u516D\\u5341\\u4EBF\\u5206\\u4E4B\\u4E00\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6709\\u4E86\\u8DB3\\u591F\\u7684\\u6807\\u8BC6\\u7B26\\u4E4B\\u540E\\uFF0C\\u6211\\u4EEC\\u5C31\\u8981\\u8003\\u8651\\u6807\\u8BC6\\u7B26\\u7684\\u751F\\u6210\\u7B56\\u7565\\u3002\\u4F20\\u7EDF\\u65B9\\u5F0F\\u662F\\u4F7F\\u7528\\u4F2A\\u968F\\u673A\\u6570\\u5B57\\u751F\\u6210\\u5668\\uFF08PRNG\\uFF09\\uFF0C\\u8FD9\\u4E00\\u751F\\u6210\\u5668\\u4E5F\\u662F\\u8BB8\\u591A\\u6807\\u51C6\\u5E93\\u7684\\u9009\\u62E9\\u3002\\u56E0\\u4E3A\\u6211\\u4EEC\\u7684\\u5F88\\u591A\\u670D\\u52A1\\u662F\\u57FA\\u4E8E Node.js \\u6784\\u5EFA\\u7684\\uFF0C\\u6240\\u4EE5\\u4F1A\\u7528\\u5230 V8 \\u5F15\\u64CE\\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\"\\uFF0C\\u8BE5\\u51FD\\u6570\\u8FD4\\u56DE\\u4E00\\u4E2A \",(0,n.jsx)(e.code,{children:\"[0, 1)\"}),\" \\u4E4B\\u95F4\\u7684\\u6570\\u5B57\\u3002\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"ALPHABET\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"random_base64\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"random_base64\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"length\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" str \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" i \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\" length\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"++\"}),\"i\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" rand \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"floor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"random\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"ALPHABET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    str \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"ALPHABET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"substring\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"rand\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" rand \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),` str\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u5728\\u4E0A\\u9762\\u7684\\u4EE3\\u7801\\u4E2D\\u6211\\u4EEC\\u521B\\u5EFA\\u4E86\\u4E00\\u4E2A\\u5305\\u542B\\u6240\\u6709\\u5B57\\u7B26\\u7684\\u5E8F\\u5217\\uFF0C\\u7136\\u540E\\u57FA\\u4E8E \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u7684\\u8FD4\\u56DE\\u503C\\u4ECE\\u4E2D\\u968F\\u673A\\u9009\\u53D6\\u5B57\\u7B26\\uFF0C\\u6700\\u7EC8\\u62FC\\u63A5\\u6210\\u957F\\u4E3A \",(0,n.jsx)(e.code,{children:\"length\"}),\" \\u7684\\u6807\\u8BC6\\u7B26\\u5B57\\u7B26\\u4E32\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u4E00\\u751F\\u6210\\u7B56\\u7565\\u770B\\u8D77\\u6765\\u5F88\\u5B8C\\u7F8E\\uFF0C\\u76F4\\u5230\\u6709\\u4E00\\u5929\\u6211\\u4EEC\\u6536\\u5230\\u4E86 \",(0,n.jsx)(e.a,{href:\"https://twitter.com/forte_nick\",children:\"Nick Forte\"}),\" \\u7684\\u90AE\\u4EF6\\uFF0C\\u4ED6\\u5728\\u90AE\\u4EF6\\u4E2D\\u58F0\\u79F0\\u5B83\\u63A5\\u6536\\u5230\\u4E86\\u4E24\\u4E2A\\u76F8\\u540C\\u7684\\u6807\\u8BC6\\u7B26\\u3002\\u8FD9\\u8BA9\\u6211\\u4EEC\\u610F\\u8BC6\\u5230\\u5176\\u4E2D\\u5FC5\\u6709\\u8E4A\\u8DF7\\u3002John von Neumann \\u66FE\\u7ECF\\u6BEB\\u4E0D\\u7559\\u60C5\\u5730\\u6307\\u8D23\\uFF1A\\u201C\\u5F00\\u53D1\\u8005\\u5BF9\\u4F7F\\u7528\\u7B97\\u6CD5\\u751F\\u6210\\u968F\\u673A\\u6570\\u7684\\u81EA\\u8D1F\\u548C\\u6267\\u8FF7\\u4E0D\\u609F\\uFF0C\\u662F\\u4E00\\u5207\\u7684\\u539F\\u7F6A\\u3002\\u201D\\u7B80\\u800C\\u8A00\\u4E4B\\uFF0C\\u786E\\u5B9A\\u6027\\u7684\\u65B9\\u6CD5\\u65E0\\u6CD5\\u771F\\u5B9E\\u5730\\u521B\\u9020\\u968F\\u673A\\u6027\\uFF0C\\u6BD4\\u5982\\u6570\\u7406\\u8FD0\\u7B97\\u3002\\u8FD9\\u9053\\u7406\\u542C\\u8D77\\u6765\\u77DB\\u76FE\\u91CD\\u91CD\\u4F3C\\u662F\\u800C\\u975E\\u2026\\u2026\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"http://cdn2.w3cplus.com/cdn/farfuture/bfbv1ozSPL_vXz2KytLcs783LNsZuMrrSVYg6JvBBmo/mtime:1462031115/sites/default/files/blogs/2016/1604/math-random-6.png\"})}),(0,n.jsxs)(e.h2,{id:\"prng\",children:[(0,n.jsx)(e.a,{href:\"#prng\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"PRNG\"]}),(0,n.jsxs)(e.p,{children:[\"\\u4ECE\\u4E0B\\u56FE\\u6F14\\u793A\\u7684\\u968F\\u673A\\u6570\\u751F\\u6210\\u6D41\\u7A0B\\u4E2D\\u53EF\\u4EE5\\u6E05\\u6670\\u770B\\u51FA\\uFF0C\",(0,n.jsx)(e.a,{href:\"https://gist.github.com/mmalone/6ef9fabe1a7540ae89e8\",children:\"PRNG \\u7B97\\u6CD5\"}),\"\\u751F\\u6210\\u7684\\u5E76\\u4E0D\\u662F\\u968F\\u673A\\u6570\\uFF0C\\u800C\\u662F\\u4E00\\u79CD\\u4F2A\\u968F\\u673A\\u3002\\u5BF9\\u4E8E\\u5927\\u591A\\u6570\\u7684\\u4F7F\\u7528\\u573A\\u666F\\uFF0C\\u4F2A\\u968F\\u673A\\u7684\\u505A\\u6CD5\\u5E76\\u6CA1\\u6709\\u9519\\uFF0C\\u91CD\\u70B9\\u662F\\u8FD9\\u79CD\\u4F2A\\u968F\\u673A\\u8981\\u8DB3\\u591F\\u4EE5\\u5047\\u4E71\\u771F\\u3002\\u5728\\u4F2A\\u968F\\u673A\\u6027\\u4E4B\\u5916\\uFF0C\\u4E0B\\u56FE\\u8FD8\\u63ED\\u793A\\u4E86\\u53E6\\u4E00\\u4E2A\\u95EE\\u9898\\uFF1A\\u5468\\u671F\\u6027\\u5FAA\\u73AF\\u3002\\u867D\\u7136\\u5468\\u671F\\u957F\\u77ED\\u90FD\\u65E0\\u6CD5\\u4FDD\\u8BC1\\u4F2A\\u968F\\u673A\\u7684\\u8D28\\u91CF\\uFF0C\\u4F46\\u957F\\u5468\\u671F\\u663E\\u7136\\u8981\\u597D\\u4E8E\\u77ED\\u5468\\u671F\\uFF0C\\u5982\\u679C\\u6211\\u4EEC\\u77E5\\u9053\\u5468\\u671F\\u7684\\u5B58\\u5728\\u4F46\\u65E0\\u6CD5\\u8BA1\\u7B97\\u8FD9\\u4E00\\u5468\\u671F\\u957F\\u5EA6\\u65F6\\uFF0C\\u90A3\\u4E48\\u5C31\\u53EF\\u4EE5\\u5C06\\u5176\\u5468\\u671F\\u4E0A\\u9650\\u89C6\\u4E3A\\u5C0F\\u4E8E\\u7B49\\u4E8E\\u968F\\u673A\\u6570\\u7684\\u6570\\u91CF\\uFF0C\\u8FD9\\u4E5F\\u662F\\u4E00\\u4E2A\\u4F18\\u79C0\\u7684 PRNG \\u7B97\\u6CD5\\u5E94\\u5177\\u6709\\u7684\\u7279\\u70B9\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"PRNG\",src:\"http://cdn2.w3cplus.com/cdn/farfuture/5mGck9m08jvih5dKSKum-gGeEizNsHrbhDl59dEWR1A/mtime:1462030402/sites/default/files/blogs/2016/1604/math-random-1.png\"})}),(0,n.jsxs)(e.p,{children:[\"\\u63A5\\u4E0B\\u6765\\uFF0C\\u8BA9\\u6211\\u4EEC\\u6DF1\\u5165\\u5206\\u6790\\u4E00\\u4E0B PRNG \\u751F\\u6210\\u7684\\u968F\\u673A\\u5E8F\\u5217\\u6240\\u5B58\\u5728\\u7684\\u7F3A\\u9677\\u3002\\u4E3E\\u4F8B\\u6765\\u8BF4\\uFF0C\\u6211\\u4EEC\\u9700\\u8981\\u4F7F\\u7528 PRNG \\u5904\\u7406 \",(0,n.jsx)(e.code,{children:\"[0, 15]\"}),\" \\u5341\\u516D\\u4E2A\\u6574\\u6570\\u751F\\u6210\\u7C7B\\u4F3C \",(0,n.jsx)(e.code,{children:\"(2, 13, 4)\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"(5, 12, 15)\"}),\" \\u4E4B\\u7C7B\\u7684\\u5143\\u7EC4\\uFF0C\\u7406\\u8BBA\\u4E0A\\u8BF4\\u5E94\\u8BE5\\u6709 16^3 \\u79CD\\u53EF\\u80FD\\u6027\\uFF0C\\u4F46\\u7B80\\u5355\\u7684 PRNG \\u53EA\\u4F1A\\u751F\\u6210\\u5C11\\u91CF\\u7684\\u975E\\u91CD\\u590D\\u7ED3\\u679C\\uFF08\\u8FD9\\u91CC\\u662F \",(0,n.jsx)(e.code,{children:\"16\"}),\" \\u79CD\\uFF09\\uFF1A\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"PRNG\",src:\"http://cdn2.w3cplus.com/cdn/farfuture/F6Uth8mGRRaMvXLOp5Jnq1cb5Pp0n44kc1bFY9Ro2Sw/mtime:1462030401/sites/default/files/blogs/2016/1604/math-random-2.png\"})}),(0,n.jsx)(e.p,{children:\"\\u8FD8\\u8BB0\\u5F97\\u672C\\u6587\\u6700\\u521D\\u63D0\\u5230\\u7684\\u968F\\u673A\\u6807\\u8BC6\\u7B26\\u5417\\uFF1F\\u751F\\u6210\\u6807\\u8BC6\\u7B26\\u7684\\u539F\\u7406\\u5C31\\u548C\\u751F\\u6210\\u4E0A\\u9762\\u7684\\u5143\\u7EC4\\u4E00\\u6837\\uFF0C\\u6700\\u7EC8\\u80FD\\u591F\\u751F\\u6210\\u7684\\u975E\\u91CD\\u590D\\u7ED3\\u679C\\u5C31\\u53D6\\u51B3\\u4E8E PRNG \\u7684\\u5185\\u90E8\\u72B6\\u6001\\u548C\\u5FAA\\u73AF\\u5468\\u671F\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"mathrandom\",children:[(0,n.jsx)(e.a,{href:\"#mathrandom\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Math.random()\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5BF9\\u4E8E Nick \\u5728\\u90AE\\u4EF6\\u4E2D\\u63D0\\u5230\\u7684\\u95EE\\u9898\\uFF0C\\u6211\\u4EEC\\u8FC5\\u901F\\u5BA1\\u67E5\\u4E86\\u76F8\\u5173\\u7684\\u4EE3\\u7801\\u903B\\u8F91\\uFF0C\\u4F46\\u5E76\\u6CA1\\u6709\\u627E\\u5230\\u4EFB\\u4F55\\u7F3A\\u9677\\uFF0C\\u8FD9\\u8BF4\\u660E\\u95EE\\u9898\\u6D89\\u53CA\\u7684\\u6280\\u672F\\u5C42\\u9762\\u53EF\\u80FD\\u4F1A\\u975E\\u5E38\\u6DF1\\u3002\",(0,n.jsx)(e.a,{href:\"http://www.ecma-international.org/ecma-262/6.0/#sec-math.random\",children:\"ECMAScript \\u89C4\\u8303\"}),\"\\u662F\\u8FD9\\u6837\\u63CF\\u8FF0 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u7684\\uFF1A\\u201C\\u8FD4\\u56DE\\u4E00\\u4E2A\\u6574\\u6570\\uFF0C\\u8BE5\\u6574\\u6570\\u7684\\u53D6\\u503C\\u8303\\u56F4\\u5927\\u4E8E\\u7B49\\u4E8E \",(0,n.jsx)(e.code,{children:\"0\"}),\" \\u800C\\u5C0F\\u4E8E \",(0,n.jsx)(e.code,{children:\"1\"}),\"\\uFF0C\\u6D4F\\u89C8\\u5668\\u5F00\\u53D1\\u5546\\u4F7F\\u7528\\u81EA\\u5B9A\\u4E49\\u7684\\u7B97\\u6CD5\\u6216\\u7B56\\u7565\\u4ECE\\u8BE5\\u8303\\u56F4\\u5185\\u5B9E\\u73B0\\u5747\\u5300\\u5206\\u5E03\\u7684\\u968F\\u673A\\u6216\\u4F2A\\u968F\\u673A\\u6548\\u679C\\u3002\\u201D\"]}),(0,n.jsxs)(e.p,{children:[\"\\u663E\\u7136\\uFF0C\\u89C4\\u8303\\u4E2D\\u9057\\u6F0F\\u4E86\\u5927\\u91CF\\u7684\\u7EC6\\u8282\\u3002\\u9996\\u5148\\uFF0C\\u5B83\\u6CA1\\u6709\\u5B9A\\u4E49\\u7CBE\\u5EA6\\u3002\\u7531\\u4E8E ECMAScript \\u4F7F\\u7528 IEEE 754 \\u53CC\\u7CBE\\u5EA6\\u6D6E\\u70B9\\u6570\\u5B58\\u50A8\\u6240\\u6709\\u6570\\u503C\\uFF0C\\u6240\\u4EE5\\u7406\\u8BBA\\u4E0A\\u5E94\\u8BE5\\u6709 \",(0,n.jsx)(e.code,{children:\"53\"}),\" \\u4F4D\\u7684\\u7CBE\\u786E\\u5EA6\\uFF0C\\u5373\\u968F\\u673A\\u6570\\u7684\\u968F\\u673A\\u8303\\u56F4\\u662F \",(0,n.jsx)(e.code,{children:\"[1/x^53, 2^53-1]\"}),\"\\uFF0C\\u4F46\\u5B9E\\u9645\\u4E0A\\uFF0CV8 \\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u53EA\\u6709 \",(0,n.jsx)(e.code,{children:\"32\"}),\" \\u4F4D\\u7CBE\\u5EA6\\uFF0C\\u4E0D\\u8FC7\\u8FD9\\u5DF2\\u7ECF\\u8DB3\\u591F\\u6211\\u4EEC\\u7528\\u7684\\u4E86\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u771F\\u6B63\\u7684\\u95EE\\u9898\\u662F\\u89C4\\u8303\\u653E\\u4EFB\\u6D4F\\u89C8\\u5668\\u5F00\\u53D1\\u8005\\u81EA\\u7531\\u5B9E\\u73B0\\u8BE5\\u65B9\\u6CD5\\uFF0C\\u4E14\\u6CA1\\u6709\\u9650\\u5236\\u6700\\u5C0F\\u7684\\u5468\\u671F\\u957F\\u5EA6\\uFF0C\\u552F\\u4E00\\u5BF9\\u5206\\u5E03\\u7684\\u8981\\u6C42\\u4E5F\\u53EA\\u662F\\u201C\\u8FD1\\u4F3C\\u5747\\u5300\\u201D\\u3002\"}),(0,n.jsxs)(e.h2,{id:\"v8-prng\",children:[(0,n.jsx)(e.a,{href:\"#v8-prng\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"V8 PRNG\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"MAX_RAND\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"pow\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"32\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" state \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"seed\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"seed\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"mwc1616\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"mwc1616\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" r0 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"18030\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"state\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0xffff\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"state\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>>\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"16\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" r1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"36969\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"state\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0xffff\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"state\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\">>>\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"16\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  state \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"r0\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" r1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"r0 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<<\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"16\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"r1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0xffff\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"MAX_RAND\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"MAX_RAND\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u4E0A\\u8FF0\\u4EE3\\u7801\\u5C31\\u662F V8 PRNG \\u7684\\u6838\\u5FC3\\u903B\\u8F91\\u3002\\u5728\\u8001\\u7248\\u672C\\u7684 V8 \\u6E90\\u7801\\u4E2D\\u5BF9\\u6B64\\u6709\\u4E00\\u6BB5\\u6CE8\\u91CA\\uFF1A\\u201C\\u968F\\u673A\\u6570\\u751F\\u6210\\u5668\\u4F7F\\u7528\\u4E86 George Marsaglia \\u7684 MWC \\u7B97\\u6CD5\\u3002\\u201D\\u6839\\u636E\\u8FD9\\u6BB5\\u6CE8\\u91CA\\uFF0C\\u6211\\u4ECE\\u8C37\\u6B4C\\u641C\\u7D22\\u5230\\u4E86\\u4EE5\\u4E0B\\u4FE1\\u606F\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/George_Marsaglia\",children:\"George Marsaglia\"}),\" \\u662F\\u4E00\\u4E2A\\u6BD5\\u751F\\u81F4\\u529B\\u4E8E PRNG \\u7684\\u6570\\u5B66\\u5BB6\\uFF0C\\u4ED6\\u8FD8\\u5F00\\u53D1\\u4E86\\u7528\\u4E8E\\u6D4B\\u8BD5\\u968F\\u673A\\u6570\\u751F\\u6210\\u8D28\\u91CF\\u7684\\u5DE5\\u5177 \",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Diehard_tests\",children:\"Diehard tests\"})]}),(0,n.jsxs)(e.li,{children:[\"MWC\\uFF08\",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Multiply-with-carry\",children:\"multiply-with-carry\"}),\"\\uFF09\\u662F\\u7531 \",(0,n.jsx)(e.a,{href:\"http://digitalcommons.wayne.edu/cgi/viewcontent.cgi?article=1725&context=jmasm\",children:\"Marsaglia\"}),\" \\u53D1\\u660E\\u7684 PRNG \\u7B97\\u6CD5\\uFF0C\\u975E\\u5E38\\u7C7B\\u4F3C\\u4E8E \",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Linear_congruential_generator\",children:\"LCG\"}),\"\\uFF08linear congruential generators\\uFF0C\\u7EBF\\u6027\\u540C\\u4F59\\u6CD5\\uFF09\\uFF0C\\u5176\\u4F18\\u52BF\\u5728\\u4E8E\\u751F\\u6210\\u7684\\u5FAA\\u73AF\\u5468\\u671F\\u66F4\\u957F\\uFF0C\\u63A5\\u8FD1\\u4E8E CPU \\u7684\\u5FAA\\u73AF\\u5468\\u671F\\u3002\"]})]}),(0,n.jsxs)(e.p,{children:[\"\\u4E0D\\u8FC7\\uFF0CV8 PRNG \\u4E0E\\u7ECF\\u5178\\u7684 MWC \\u751F\\u6210\\u5668\\u5E76\\u4E0D\\u76F8\\u540C\\uFF0C\\u56E0\\u4E3A\\u5B83\\u4E0D\\u662F\\u5BF9 MWC \\u751F\\u6210\\u5668\\u7684\\u7B80\\u5355\\u6269\\u5C55\\uFF0C\\u800C\\u662F\\u7EC4\\u5408\\u4F7F\\u7528\\u4E86\\u4E24\\u4E2A MWC \\u5B50\\u751F\\u6210\\u5668\\uFF08\",(0,n.jsx)(e.code,{children:\"r0\"}),\" \\u548C \",(0,n.jsx)(e.code,{children:\"r1\"}),\"\\uFF09\\uFF0C\\u5E76\\u6700\\u7EC8\\u62FC\\u63A5\\u6210\\u4E00\\u4E2A\\u968F\\u673A\\u6570\\u3002\\u8FD9\\u91CC\\u7565\\u8FC7\\u76F8\\u5173\\u7684\\u6570\\u5B66\\u8BA1\\u7B97\\uFF0C\\u53EA\\u8BF4\\u7ED3\\u8BBA\\uFF0C\\u6BCF\\u4E2A\\u5B50\\u751F\\u6210\\u5668\\u6700\\u957F\\u7684\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\u5EA6\\u90FD\\u662F 2^30\\uFF0C\\u5408\\u5E76\\u540E\\u4E3A 2^60\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u4E0A\\u6587\\u63D0\\u5230\\u8FC7\\uFF0C\\u6211\\u4EEC\\u5B9A\\u4E49\\u7684\\u6807\\u8BC6\\u7B26\\u6709 2^132 \\u79CD\\u53EF\\u80FD\\u6027\\uFF0C\\u6240\\u4EE5 V8 \\u7684 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u5E76\\u4E0D\\u80FD\\u6EE1\\u8DB3\\u8FD9\\u4E00\\u9700\\u6C42\\u3002\\u5C3D\\u7BA1\\u5982\\u6B64\\uFF0C\\u6211\\u4EEC\\u4ECD\\u4F7F\\u7528\\u8BE5\\u51FD\\u6570\\u5E76\\u5047\\u8BBE\\u751F\\u6210\\u7684\\u968F\\u673A\\u6570\\u662F\\u5747\\u5300\\u5206\\u5E03\\u7684\\uFF0C\\u90A3\\u4E48\\u751F\\u6210\\u4E00\\u4EBF\\u4E2A\\u6807\\u8BC6\\u7B26\\u540E\\u51FA\\u73B0\\u78B0\\u649E\\u7684\\u53EF\\u80FD\\u6027\\u624D\\u53EA\\u6709 \",(0,n.jsx)(e.code,{children:\"0.4%\"}),\"\\uFF0C\\u4F46\\u73B0\\u5728\\u53D1\\u751F\\u78B0\\u649E\\u7684\\u65F6\\u95F4\\u4E5F\\u592A\\u65E9\\u4E86\\uFF0C\\u6240\\u4EE5\\u6211\\u4EEC\\u7684\\u5206\\u6790\\u4E00\\u5B9A\\u6709\\u4EC0\\u4E48\\u5730\\u65B9\\u51FA\\u9519\\u4E86\\u3002\\u4E4B\\u524D\\u5DF2\\u7ECF\\u8BC1\\u660E\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\u5EA6\\u662F\\u6B63\\u786E\\u7684\\uFF0C\\u90A3\\u4E48\\u5F88\\u6709\\u53EF\\u80FD\\u751F\\u6210\\u7684\\u968F\\u673A\\u6570\\u4E0D\\u662F\\u5747\\u5300\\u5206\\u5E03\\u7684\\uFF0C\\u4E00\\u5B9A\\u6709\\u5176\\u4ED6\\u7684\\u7ED3\\u6784\\u5F71\\u54CD\\u4E86\\u751F\\u6210\\u7684\\u5E8F\\u5217\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"\\u53CC\\u5B50\\u751F\\u6210\\u5668\",children:[(0,n.jsx)(e.a,{href:\"#\\u53CC\\u5B50\\u751F\\u6210\\u5668\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53CC\\u5B50\\u751F\\u6210\\u5668\"]}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"ALPHABET\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_'\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function function-variable\",children:\"random_base64\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"random_base64\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"length\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" str \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" i \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\" length\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"++\"}),\"i\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// Math.random(): ((r0 << 16) + (r1 & 0xFFFF)) | 0\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" rand \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"floor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Math\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"random\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"ALPHABET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"length\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    str \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"ALPHABET\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token function property-access method\",children:\"substring\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"rand\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" rand \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),` str\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"\\u4E0A\\u9762\\u4EE3\\u7801\\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"Math.floor(Math.random() * ALPHABET.length)\"}),\" \\u4E00\\u53E5\\u975E\\u5E38\\u91CD\\u8981\\uFF0C\\u5B83\\u88AB\\u7528\\u6765\\u6269\\u5927\\u968F\\u673A\\u6570\\u7684\\u8303\\u56F4\\u5E76\\u53D6\\u6574\\uFF0C\\u540C\\u65F6\\u5B83\\u4E5F\\u4F1A\\u8BA9\\u6700\\u7EC8\\u7684\\u968F\\u673A\\u6570\\u4E22\\u5931\\u4F4E\\u5B57\\u8282\\uFF0C\\u503E\\u5411\\u4E8E\\u9AD8\\u5B57\\u8282\\u3002\\u7A76\\u5176\\u539F\\u56E0\\uFF0C\\u662F\\u56E0\\u4E3A V8 \\u7684\\u7B97\\u6CD5\\u5728\\u5408\\u5E76\\u4E24\\u4E2A\\u5B50\\u751F\\u6210\\u5668\\u7684\\u7ED3\\u679C\\u65F6\\uFF0C\\u4F7F\\u7528\\u7684\\u4E0D\\u662F\\u5F02\\u6216\\u8BA1\\u7B97\\uFF0C\\u800C\\u662F\\u7B80\\u5355\\u7C97\\u66B4\\u7684\\u62FC\\u63A5\\u3002\\u8FD9\\u662F\\u975E\\u5E38\\u4E25\\u91CD\\u7684\\u7F3A\\u9677\\u3002\\u5F53\\u6211\\u4EEC\\u5C06 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u7684\\u8303\\u56F4\\u6269\\u5C55\\u5230 \",(0,n.jsx)(e.code,{children:\"[0, 64]\"}),\" \\u5E76\\u53D6\\u6574\\u540E\\uFF0C\\u5C31\\u5DF2\\u7ECF\\u6539\\u53D8\\u4E86\\u5B83\\u7684\\u5E73\\u8861\\u6027\\uFF0C\\u66F4\\u591A\\u7684\\u503E\\u5411\\u4E8E\\u4F7F\\u7528\\u9AD8\\u4F4D\\u5B57\\u8282\\u3002\\u8FD9\\u4E9B\\u9AD8\\u4F4D\\u5B57\\u8282\\u901A\\u5E38\\u6765\\u81EA\\u4E8E MWC \\u5B50\\u751F\\u6210\\u5668\\u4E2D\\u7684\\u7B2C\\u4E00\\u4E2A\\u751F\\u6210\\u5668\\u3002\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u53CC\\u5B50\\u751F\\u6210\\u5668\",src:\"http://cdn2.w3cplus.com/cdn/farfuture/qPSPvklNkAJ_kiisudbrAGZihfbB0Jqhecd8kAEOjIg/mtime:1462030404/sites/default/files/blogs/2016/1604/math-random-3.png\"})}),(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u5355\\u72EC\\u5206\\u6790\\u4E00\\u4E0B\\u7B2C\\u4E00\\u4E2A\\u5B50\\u751F\\u6210\\u5668\\uFF0C\\u5C31\\u4F1A\\u53D1\\u73B0\\u5B83\\u5177\\u6709 \",(0,n.jsx)(e.code,{children:\"32\"}),\" \\u4F4D\\u7684\\u5185\\u90E8\\u72B6\\u6001\\uFF0C\\u5B9E\\u9645\\u7684\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\u5EA6\\u662F \",(0,n.jsx)(e.code,{children:\"5.9\"}),\" \\u4EBF\\u5DE6\\u53F3\\uFF08\",(0,n.jsx)(e.code,{children:\"18030*2^15\"}),\"\\uFF0C\\u8BA1\\u7B97\\u7EC6\\u8282\\u8BF7\\u53C2\\u8003\\u6587\\u672B\\u8D44\\u6599\\uFF09\\uFF0C\\u6240\\u4EE5\\u4F7F\\u7528\\u8FD9\\u4E2A\\u751F\\u6210\\u5668\\u53EA\\u80FD\\u751F\\u6210 \",(0,n.jsx)(e.code,{children:\"5.9\"}),\" \\u4EBF\\u6807\\u8BC6\\u7B26\\uFF0C\\u4E5F\\u5C31\\u662F\\u751F\\u6210 \",(0,n.jsx)(e.code,{children:\"30000\"}),\" \\u4E2A\\u6807\\u8BC6\\u7B26\\u540E\\u5C31\\u6709\\u8D85\\u8FC7 \",(0,n.jsx)(e.code,{children:\"50%\"}),\" \\u7684\\u6982\\u7387\\u53D1\\u751F\\u78B0\\u649E\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u4F46\\u5982\\u679C\\u8FD9\\u662F\\u771F\\u7684\\u8BDD\\uFF0C\\u90A3\\u4E48\\u5728\\u751F\\u6210\\u6807\\u8BC6\\u7B26\\u4E4B\\u540E\\u4E0D\\u4E45\\u5C31\\u4F1A\\u53D1\\u751F\\u78B0\\u649E\\u3002\\u4E3A\\u4E86\\u7406\\u89E3\\u8FD9\\u4E00\\u73B0\\u8C61\\uFF0C\\u60F3\\u60F3\\u6211\\u4EEC\\u4E4B\\u524D\\u751F\\u6210\\u5143\\u7EC4\\u7684\\u793A\\u4F8B\\uFF0C\\u5728\\u8FD9\\u4E2A\\u793A\\u4F8B\\u4E2D\\u4E5F\\u6CA1\\u53D1\\u751F\\u751F\\u65E5\\u6096\\u8BBA\\uFF0C\\u8FD9\\u662F\\u56E0\\u4E3A\\u8FD9\\u4E2A\\u5E8F\\u5217\\u6839\\u672C\\u4E0D\\u662F\\u968F\\u673A\\u7684\\uFF0C\\u6240\\u4EE5\\u4E0D\\u80FD\\u5047\\u88C5\\u5B83\\u662F\\u3002V8 PRNG \\u548C\\u6211\\u4EEC\\u7684\\u968F\\u673A\\u6807\\u8BC6\\u7B26\\u4E5F\\u662F\\u540C\\u6837\\u7684\\u9053\\u7406\\uFF0C\\u5728\\u7279\\u5B9A\\u6761\\u4EF6\\u4E0B\\uFF0CPRNG \\u7684\\u4F2A\\u968F\\u673A\\u6027\\u53CD\\u5012\\u4E0D\\u6613\\u751F\\u6210\\u78B0\\u649E\\u3002\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\\u53CC\\u5B50\\u751F\\u6210\\u5668\",src:\"http://cdn1.w3cplus.com/cdn/farfuture/mYUDjnNzT142NJPAzNnZnFZAUPhUcSgB29-H0UXjgm4/mtime:1462030402/sites/default/files/blogs/2016/1604/math-random-4.png\"})}),(0,n.jsxs)(e.p,{children:[\"\\u867D\\u7136\\u5728\\u8FD9\\u79CD\\u573A\\u666F\\u4E0B\\u751F\\u6210\\u5668\\u5BF9\\u6211\\u4EEC\\u7684\\u9700\\u6C42\\u6709\\u76CA\\uFF0C\\u4F46\\u65E2\\u7136\\u5B58\\u5728\\u9519\\u8BEF\\uFF0C\\u6211\\u4EEC\\u5C31\\u5E94\\u8BE5\\u5BFB\\u6C42\\u66F4\\u9AD8\\u8D28\\u91CF\\u7684 PRNG\\uFF0C\\u4E00\\u4E2A\\u6709\\u6548\\u7684\\u65B9\\u5F0F\\u5C31\\u662F\\u8BA9\\u751F\\u6210\\u5668\\u7684\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\u5EA6\\u8FDC\\u5927\\u4E8E\\u968F\\u673A\\u6570\\u7684\\u53EF\\u80FD\\u6027\\u3002\\u8FD9\\u91CC\\u6709\\u4E00\\u4E2A\\u542F\\u53D1\\u5F0F\\u7684\\u65B9\\u6CD5\\uFF1A\\u5982\\u679C\\u9700\\u8981\\u751F\\u6210\\u5177\\u6709 \",(0,n.jsx)(e.code,{children:\"n\"}),\" \\u4E2D\\u53EF\\u80FD\\u6027\\u7684\\u968F\\u673A\\u6570\\uFF0C\\u90A3\\u4E48\\u5C31\\u9700\\u8981\\u4E00\\u4E2A\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\u5EA6\\u4E3A \",(0,n.jsx)(e.code,{children:\"n^2\"}),\" \\u7684 PRNG\\uFF08\\u76F8\\u5173\\u7EC6\\u8282\\u8BF7\\u53C2\\u8003 Pierre L'Ecuyer \\u7684 \",(0,n.jsx)(e.a,{href:\"http://www.iro.umontreal.ca/~lecuyer/myftp/papers/handstat.pdf\",children:\"random number generation\"}),\"\\uFF09\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5BF9\\u4E8E\\u6211\\u4EEC\\u6240\\u9047\\u5230\\u7684\\u95EE\\u9898\\uFF0C\\u53EF\\u4EE5\\u8BF4\\u662F\\u8FC7\\u4E8E\\u5173\\u6CE8\\u5E8F\\u5217\\u7684\\u91CD\\u53E0\\u5EA6\\uFF0C\\u800C\\u5FFD\\u89C6\\u7EDF\\u8BA1\\u968F\\u673A\\u6027\\u4E86\\u3002\\u5982\\u679C\\u4E00\\u4E2A\\u751F\\u6210\\u5668\\u8981\\u751F\\u6210 \",(0,n.jsx)(e.code,{children:\"n\"}),\" \\u4E2A\\u957F\\u5EA6\\u4E3A \",(0,n.jsx)(e.code,{children:\"l\"}),\" \\u7684\\u5E8F\\u5217\\uFF0C\\u4E14\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\u5EA6\\u4E3A \",(0,n.jsx)(e.code,{children:\"p\"}),\"\\uFF0C\\u90A3\\u4E48\\u5176\\u91CD\\u53E0\\u6982\\u7387\\u5C31\\u662F \",(0,n.jsx)(e.code,{children:\"[1-(nl)/(p-1)]^(n-1)\"}),\"\\uFF0C\\u6216\\u5F53 \",(0,n.jsx)(e.code,{children:\"p\"}),\" \\u8DB3\\u591F\\u5927\\u65F6\\u63A5\\u8FD1 \",(0,n.jsx)(e.code,{children:\"ln^2/p\"}),\"\\uFF08\\u76F8\\u5173\\u7EC6\\u8282\\u8BF7\\u53C2\\u8003\\u6587\\u672B\\u8D44\\u6599\\uFF09\\u3002\\u8FD9\\u544A\\u8BC9\\u6211\\u4EEC\\u9700\\u8981\\u4E00\\u4E2A\\u76F8\\u5F53\\u5927\\u7684\\u5FAA\\u73AF\\u5468\\u671F\\uFF0C\\u5426\\u5219\\u5E8F\\u5217\\u7684\\u968F\\u673A\\u6027\\u5C31\\u4F1A\\u53D8\\u5F97\\u8106\\u5F31\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u7B80\\u800C\\u8A00\\u4E4B\\uFF0C\\u5982\\u679C\\u4F60\\u6B63\\u5728\\u4F7F\\u7528 V8 \\u7684 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u751F\\u6210\\u968F\\u673A\\u6570\\u5E8F\\u5217\\uFF0C\\u90A3\\u4E48\\u4E3A\\u4E86\\u4FDD\\u8BC1\\u968F\\u673A\\u6027\\uFF0C\\u5E8F\\u5217\\u957F\\u5EA6\\u5E94\\u8BE5\\u5C0F\\u4E8E \",(0,n.jsx)(e.code,{children:\"24000\"}),\"\\uFF1B\\u5982\\u679C\\u60F3\\u907F\\u514D\\u78B0\\u649E\\uFF0C\\u90A3\\u4E48\\u5E94\\u8BE5\\u9009\\u62E9\\u5176\\u4ED6\\u7684\\u65B9\\u6CD5\\u751F\\u6210\\u968F\\u673A\\u5E8F\\u5217\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"mwc1616\",children:[(0,n.jsx)(e.a,{href:\"#mwc1616\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"MWC1616\"]}),(0,n.jsx)(e.p,{children:\"Marsaglia \\u5728 1997 \\u5E74\\u63D0\\u51FA\\u4E86 MWC1616\\uFF0C\\u4ED6\\u8BA4\\u4E3A\\u8BE5\\u65B9\\u6CD5\\u53EF\\u4EE5\\u901A\\u8FC7\\u6240\\u6709\\u7684\\u968F\\u673A\\u6027\\u6D4B\\u8BD5\\u3002\\u4E0D\\u5E78\\u7684\\u662F\\uFF0C\\u4ED6\\u5728\\u4E5D\\u5341\\u5E74\\u4EE3\\u672B\\u4F7F\\u7528\\u7684 Diehard tests \\u5E76\\u4E0D\\u7B26\\u5408\\u4ECA\\u5929\\u7684\\u6807\\u51C6\\u3002\\u5982\\u679C\\u4F7F\\u7528\\u66F4\\u52A0\\u73B0\\u4EE3\\u7684\\u6D4B\\u8BD5\\u6846\\u67B6\\u6D4B\\u8BD5\\uFF0C\\u5C31\\u4F1A\\u53D1\\u73B0\\u8BE5\\u7B97\\u6CD5\\u5728\\u5F53\\u65F6\\u95EE\\u9898\\u767E\\u51FA\\u3002\"}),(0,n.jsx)(e.pre,{className:\"language-javascript\",children:(0,n.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// January 12, 1999 / V8 PRNG: ((r0 << 16) + (r1 ^ 0xFFFF)) % 2^32\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"r0 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<<\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"16\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"r1 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"&\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0xffff\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// January 20, 1999: (r0 << 16) + r1) % 2^32\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" x \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"r0 \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<<\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"16\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" r1\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"|\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"\\u5C31\\u6211\\u6240\\u77E5\\uFF0C\\u62FC\\u63A5\\u5B50\\u751F\\u6210\\u5668\\u7684\\u7ED3\\u679C\\u521B\\u9020\\u968F\\u673A\\u6570\\u5E76\\u6CA1\\u6709\\u4EC0\\u4E48\\u6570\\u5B66\\u65B9\\u9762\\u7684\\u4F9D\\u636E\\uFF0C\\u6700\\u5E38\\u89C1\\u7684\\u90FD\\u662F\\u4F7F\\u7528\\u6A21\\u8FD0\\u7B97\\u8FDB\\u884C\\u5408\\u5E76\\u3002Marsaglia \\u5728 Usenet \\u53D1\\u5E03\\u4E86 MWC1616 \\u4E4B\\u540E\\u4E5F\\u610F\\u8BC6\\u5230\\u4E86\\u8FD9\\u4E2A\\u95EE\\u9898\\uFF0C\\u6240\\u4EE5\\u5728 1999 \\u5E74 1 \\u6708 12 \\u65E5\\u53C8\\u53D1\\u5E03\\u4E86\\u5982\\u4ECA\\u88AB V8 \\u6240\\u6709\\u7684 MVC1616 \\u7248\\u672C\\u3002\\u516B\\u5929\\u4E4B\\u540E\\uFF0C\\u4ED6\\u53C8\\u53D1\\u8868\\u4E86\\u53E6\\u4E00\\u4E2A\\u4E0D\\u540C\\u7684\\u7248\\u672C\\u3002\\u65B0\\u7248\\u672C\\u5BF9\\u4E8E\\u4E24\\u4E2A\\u5B50\\u751F\\u6210\\u5668\\u7684\\u5408\\u5E76\\u66F4\\u52A0\\u5747\\u8861\\u3002\"}),(0,n.jsxs)(e.p,{children:[\"\\u8FD9\\u4E24\\u4E2A\\u7248\\u672C\\u7684 MWC1616 \\u90FD\\u88AB\\u5176\\u4ED6\\u7A0B\\u5E8F\\u5F15\\u7528\\u4E86\\uFF0C\\u6240\\u4EE5\\u5C31\\u51FA\\u73B0\\u4E86\\u8BEF\\u89E3\\u30021 \\u6708 20 \\u65E5\\u7684 MWC1616 \\u7684\\u57FA\\u6570\\u88AB\\u6807\\u8BB0\\u4E3A \",(0,n.jsx)(e.code,{children:\"b = 2^16\"}),\"\\uFF0C\\u4E14\\u88AB\\u6CE8\\u91CA\\u4E3A\\u4EC5\\u9650\\u7528\\u4E8E \",(0,n.jsx)(e.code,{children:\"32\"}),\" \\u4F4D\\u7684\\u7B97\\u672F\\u3002\\u5F53\\u4F60\\u4F7F\\u7528\\u8BE5\\u7248\\u672C\\u7684\\u65F6\\u5019\\uFF0C\\u4F1A\\u88AB\\u8B66\\u544A\\u66FF\\u6362\\u8BE5\\u7B97\\u6CD5\\uFF0C\\u4F46\\u5B9E\\u9645\\u4E0A\\u5B83\\u6BD4 V8 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u4E2D\\u9002\\u7528\\u7684 MWC \\u8981\\u597D\\u3002\\u6B64\\u5916\\u66F4\\u4EE4\\u4EBA\\u4E0D\\u89E3\\u7684\\u662F\\uFF0C1 \\u6708 20 \\u65E5\\u7684 MWC1616 \\u88AB\\u7EF4\\u57FA\\u767E\\u79D1\\u4F5C\\u4E3A\\u968F\\u673A\\u6570\\u751F\\u6210\\u7684\\u793A\\u4F8B\\u6F14\\u793A\\uFF0C\\u800C TestU01 \\u4E2D\\u5305\\u542B\\u4E86\\u4E24\\u79CD 1 \\u6708 12 \\u65E5 MWC1616 \\u7684\\u5B9E\\u73B0\\uFF0C\\u4E00\\u4E2A\\u662F MWC1616\\uFF0C\\u4E00\\u4E2A\\u662F MWC97R\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u5E0C\\u671B\\u8FD9\\u7BC7\\u6587\\u7AE0\\u53EF\\u4EE5\\u63D0\\u9192\\u5F00\\u53D1\\u8005\\uFF0C\\u5E76\\u5F3A\\u5316 Knuth \\u7684\\u89C2\\u5BDF\\u7ED3\\u679C\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u901A\\u5E38\\u6765\\u8BF4\\uFF0CPRNG \\u5B58\\u5728\\u7455\\u75B5\\uFF0C\\u5F00\\u53D1\\u8005\\u5E94\\u8BE5\\u5177\\u4F53\\u60C5\\u51B5\\u5177\\u4F53\\u5206\\u6790\\uFF0C\\u7406\\u89E3\\u8FD9\\u4E9B\\u7B97\\u6CD5\\u7684\\u5C40\\u9650\\u6027\"}),(0,n.jsx)(e.li,{children:\"\\u7279\\u522B\\u7684\\uFF0C\\u4E0D\\u8981\\u4F7F\\u7528 MWC1616\\uFF0C\\u5B83\\u5E76\\u4E0D\\u591F\\u597D\"})]}),(0,n.jsxs)(e.h2,{id:\"csprng\",children:[(0,n.jsx)(e.a,{href:\"#csprng\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"CSPRNG\"]}),(0,n.jsx)(e.p,{children:\"\\u4E3A\\u4E86\\u4FEE\\u590D\\u6211\\u4EEC\\u7684\\u6807\\u8BC6\\u7B26\\u751F\\u6210\\u5668\\uFF0C\\u9700\\u8981\\u4E00\\u79CD\\u89E3\\u6790\\u901F\\u5EA6\\u5FEB\\u3001\\u53EF\\u66FF\\u4EE3 Math.random() \\u7684\\u65B9\\u6CD5\\u3002\\u867D\\u7136\\u6709\\u5F88\\u591A JavaScript \\u7684 PRNG \\u5B9E\\u73B0\\u53EF\\u7528\\uFF0C\\u4F46\\u6211\\u4EEC\\u4E3B\\u8981\\u9488\\u5BF9\\u4EE5\\u4E0B\\u51E0\\u70B9\\u67E5\\u627E\\u8FD9\\u4E00\\u65B9\\u6CD5\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\uFF0C\\u8FDC\\u5927\\u4E8E\\u6807\\u8BC6\\u7B26\\u7684 \",(0,n.jsx)(e.code,{children:\"2^132\"}),\" \\u79CD\\u53EF\\u80FD\\u6027\"]}),(0,n.jsx)(e.li,{children:\"\\u6709\\u826F\\u597D\\u7684\\u652F\\u6301\\u4E14\\u7ECF\\u5F97\\u8D77\\u6D4B\\u8BD5\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u5E78\\u8FD0\\u7684\\u662F\\uFF0CNode.js \\u7684\\u6807\\u51C6\\u5E93\\u63D0\\u4F9B\\u4E86\\u53E6\\u4E00\\u4E2A PRNG \\u5C31\\u6EE1\\u8DB3\\u8FD9\\u4E24\\u70B9\\u8981\\u6C42\\uFF1A\",(0,n.jsx)(e.code,{children:\"crypto.randomBytes()\"}),\"\\uFF0C\\u4E00\\u4E2A\\u5BC6\\u7801\\u5B66\\u5B89\\u5168\\u4F2A\\u968F\\u673A\\u6570\\u751F\\u6210\\u5668\\uFF08CSPRNG\\uFF09\\u3002\\u5982\\u679C\\u662F\\u5728\\u6D4F\\u89C8\\u5668\\u4E0A\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"crypto.getRandomValues()\"}),\" \\u5B9E\\u73B0\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u4F46\\u8FD9\\u5E76\\u4E0D\\u662F\\u5B8C\\u7F8E\\u7684\\u901A\\u7528\\u89E3\\u51B3\\u65B9\\u6848\\uFF0C\\u6709\\u4EE5\\u4E0B\\u4E09\\u4E2A\\u539F\\u56E0\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"CSPRNG \\u901A\\u5E38\\u662F\\u975E\\u7EBF\\u6027\\u53D8\\u6362\\uFF0C\\u6162\\u4E8E\\u975E\\u5BC6\\u7801\\u7684\\u89E3\\u51B3\\u65B9\\u6848\"}),(0,n.jsx)(e.li,{children:\"\\u8BB8\\u591A CSPRNG \\u7CFB\\u7EDF\\u4E0D\\u652F\\u6301\\u79CD\\u5B50\\u72B6\\u6001\\uFF0C\\u8FDB\\u800C\\u4F7F\\u5F97\\u5E8F\\u5217\\u7ED3\\u679C\\u4E0D\\u53EF\\u590D\\u73B0\"}),(0,n.jsx)(e.li,{children:\"CSPRNG \\u5F3A\\u8C03\\u4E0D\\u53EF\\u9884\\u6D4B\\u6027\\u91CD\\u4E8E\\u8D28\\u91CF\"})]}),(0,n.jsx)(e.p,{children:\"\\u4E0D\\u8FC7\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:\"\\u901F\\u5EA6\\u662F\\u76F8\\u5BF9\\u7684\\uFF0CCSPRNG \\u5BF9\\u5927\\u591A\\u6570\\u4F7F\\u7528\\u573A\\u666F\\u6765\\u8BF4\\u90FD\\u662F\\u5F88\\u5FEB\\u7684\"}),(0,n.jsx)(e.li,{children:\"\\u5BF9\\u4E8E\\u4E0D\\u53EF\\u9884\\u6D4B\\uFF0C\\u8FD9\\u4E5F\\u8BA9\\u6211\\u4EEC\\u65E0\\u6CD5\\u533A\\u5206\\u771F\\u6B63\\u7684\\u968F\\u673A\\u6027\\uFF0C\\u4E5F\\u5C31\\u662F\\u6211\\u4EEC\\u60F3\\u8981\\u7684\\u4F2A\\u968F\\u673A\\u6027\\u5E8F\\u5217\"}),(0,n.jsx)(e.li,{children:\"\\u4EE5\\u201C\\u5B89\\u5168\\u52A0\\u5BC6\\u201D\\u4E3A\\u4E3B\\u6253\\u7684\\u751F\\u6210\\u5668\\u5F80\\u5F80\\u4EE3\\u7801\\u5BA1\\u67E5\\u66F4\\u4E25\\u683C\\u4E14\\u968F\\u673A\\u6027\\u6D4B\\u8BD5\\u66F4\\u5168\\u9762\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u5982\\u679C\\u4F60\\u65E0\\u6CD5\\u4FE1\\u4EFB\\u975E\\u52A0\\u5BC6\\u65B9\\u6848\\u7684\\u8D28\\u91CF\\uFF0C\\u6216\\u8005\\u9664\\u975E\\u4F7F\\u7528\\u65E2\\u5B9A\\u7684\\u6536\\u53D1\\u65B9\\u6848\\u4FDD\\u8BC1\\u8D28\\u91CF\\uFF0C\\u4F7F\\u7528 CSPRNG \\u90FD\\u662F\\u4F60\\u6700\\u597D\\u7684\\u9009\\u62E9\\u3002\\u5982\\u679C\\u4F60\\u4E0D\\u4FE1\\u4EFB\\u6807\\u51C6\\u5E93\\u4E2D\\u7684 CSPRNG\\uFF0C\\u90A3\\u4E48\\u53EF\\u4EE5\\u4F7F\\u7528\\u7531 kenel \\u7EF4\\u62A4\\u7684 \",(0,n.jsx)(e.a,{href:\"http://sockpuppet.org/blog/2014/02/25/safely-generate-random-numbers/\",children:\"urandom\"}),\"\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6211\\u65E0\\u6CD5\\u544A\\u8BC9\\u4F60 \",(0,n.jsx)(e.code,{children:\"crypto.randomBytes()\"}),\" \\u7684\\u786E\\u5207\\u5FAA\\u73AF\\u5468\\u671F\\uFF0C\\u662F\\u56E0\\u4E3A\\u8FD8\\u6CA1\\u4EBA\\u9047\\u5230\\u8FC7\\u8FD9\\u4E00\\u95EE\\u9898\\uFF0C\\u6211\\u53EA\\u80FD\\u8BF4\\u5B83\\u5F88\\u5B89\\u5168\\u3002\\u5982\\u679C\\u4F60\\u76F8\\u4FE1 OpenSSL \\u751F\\u6210\\u7684\\u516C\\u94A5\\u548C\\u79C1\\u94A5\\u7684\\u5B89\\u5168\\u6027\\uFF0C\\u90A3\\u4E48\\u5C31\\u6CA1\\u6709\\u7406\\u7531\\u4E0D\\u76F8\\u4FE1\\u5B83\\u3002\\u5728\\u5B9E\\u9645\\u5F00\\u53D1\\u4E2D\\uFF0C\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"crypto.randomBytes()\"}),\" \\u53EF\\u4EE5\\u8F7B\\u677E\\u89E3\\u51B3 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u7684\\u95EE\\u9898\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5B9E\\u9645\\u4E0A\\uFF0CChrome \\u4E5F\\u53EF\\u4EE5\\u4EE4 Math.random() \\u8C03\\u7528 crypto.randomBytes() \\u4E2D\\u4F7F\\u7528\\u7684 CSPRNG\\uFF0C\\u8BE6\\u89C1 \",(0,n.jsx)(e.a,{href:\"http://trac.webkit.org/browser/trunk/Source/WTF/wtf/RandomNumber.cpp#L41\",children:\"what Webkit is doing\"}),\"\\u3002\\u4E5F\\u5373\\u662F\\u8BF4\\uFF0C\\u6709\\u5F88\\u591A\\u5B89\\u5168\\u4E14\\u9AD8\\u8D28\\u91CF\\u7684\\u975E\\u52A0\\u5BC6\\u65B9\\u6848\\u3002\"]}),(0,n.jsxs)(e.h2,{id:\"v8s-prng\",children:[(0,n.jsx)(e.a,{href:\"#v8s-prng\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"V8's PRNG\"]}),(0,n.jsx)(e.p,{children:\"\\u6211\\u7684\\u76EE\\u6807\\u662F\\u8BF4\\u670D\\u4F60 V8 \\u7684 Math.random() \\u6709\\u7455\\u75B5\\u4E14\\u5E94\\u8BE5\\u88AB\\u66FF\\u6362\\u3002\\u5230\\u76EE\\u524D\\u4E3A\\u6B62\\u6211\\u4EEC\\u5DF2\\u7ECF\\u53D1\\u73B0\\u5B83\\u89C4\\u5F8B\\u6027\\u7684\\u8F93\\u51FA\\u3001\\u5728\\u6D4B\\u8BD5\\u4E0A\\u7684\\u5931\\u8D25\\u4EE5\\u53CA\\u771F\\u5B9E\\u73AF\\u5883\\u7684\\u4F4E\\u6027\\u80FD\\u7B49\\u95EE\\u9898\\u3002\\u5982\\u679C\\u4F60\\u671F\\u5F85\\u66F4\\u591A\\u7684\\u8BC1\\u636E\\uFF0C\\u90A3\\u5C31\\u770B\\u4EE5\\u4E0B\\u56FE\\u7247\\u5427\\uFF08\\u8BD1\\u8005\\u6CE8\\uFF1A\\u4EE5\\u4E0B\\u56FE\\u7247\\u6F14\\u793A\\u7684\\u95EE\\u9898\\u53EF\\u80FD\\u5DF2\\u88AB\\u4FEE\\u590D\\uFF09\\uFF1A\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"V8's PRNG\",src:\"http://cdn2.w3cplus.com/cdn/farfuture/CcaG3IAyqC6mqWDZHZCj55rRvXRS176oIx-ix8o3vO0/mtime:1462030355/sites/default/files/blogs/2016/1604/20160428-math-random-csprng.png\"})}),(0,n.jsxs)(e.p,{children:[\"\\u6B64\\u65F6\\u4F60\\u5E94\\u8BE5\\u8BA4\\u53EF V8 \\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u5B58\\u5728\\u7F3A\\u9677\\u4E14\\u5E94\\u8BE5\\u88AB\\u4FEE\\u590D\\u4E86\\u5427\\u3002\\u90A3\\u4E48\\u95EE\\u9898\\u6765\\u4E86\\uFF0C\\u6211\\u4EEC\\u5E94\\u8BE5\\u5982\\u4F55\\u4FEE\\u590D\\u5B83\\u5462\\uFF1F\\u867D\\u7136\\u4FEE\\u590D\\u5F88\\u7B80\\u5355\\uFF0C\\u4F46\\u662F\\u7EE7\\u7EED\\u4F7F\\u7528 MWC \\u663E\\u7136\\u662F\\u65E0\\u610F\\u4E49\\u7684\\uFF0C\\u6211\\u4EEC\\u6709\\u66F4\\u597D\\u7684\\u9009\\u62E9\\u3002\"]}),(0,n.jsx)(e.p,{children:\"\\u4E0B\\u9762\\u5217\\u51FA\\u4E86\\u6211\\u4EEC\\u5BF9\\u968F\\u673A\\u6570\\u751F\\u6210\\u5668\\u7684\\u8981\\u6C42\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"\\u968F\\u673A\\u6570\\u7A7A\\u95F4\\u5927\\uFF0C\\u79CD\\u5B50\\u72B6\\u6001\\u591A\\u2014\\u2014\\u7406\\u60F3\\u60C5\\u51B5\\u4E0B\\uFF0C\\u8981\\u5927\\u4E8E \",(0,n.jsx)(e.code,{children:\"1024\"}),\" \\u4F4D\\uFF0C\\u56E0\\u4E3A\\u8FD9\\u662F\\u5176\\u4ED6\\u751F\\u6210\\u5668\\u4FDD\\u8BC1\\u8D28\\u91CF\\u7684\\u4E0A\\u9650\\u3002\\u5BF9\\u4E8E \",(0,n.jsx)(e.code,{children:\"2^1024\"}),\" \\u79CD\\u53EF\\u80FD\\u6027\\uFF0C\\u8DB3\\u4EE5\\u6EE1\\u8DB3 99.9% \\u7684\\u9700\\u6C42\\u4E86\\uFF0C\\u4E14\\u5177\\u6709\\u5F3A\\u5927\\u7684\\u5B89\\u5168\\u6027\"]}),(0,n.jsx)(e.li,{children:\"\\u901F\\u5EA6\\u81F3\\u5C11\\u8981\\u548C\\u5F53\\u524D\\u7684\\u5B9E\\u73B0\\u4FDD\\u6301\\u4E00\\u81F4\"}),(0,n.jsx)(e.li,{children:\"\\u9AD8\\u6548\\u7684\\u5185\\u5B58\\u4F7F\\u7528\\u7387\"}),(0,n.jsxs)(e.li,{children:[\"\\u5FAA\\u73AF\\u5468\\u671F\\u836F\\u5382\\uFF0C\\u4EFB\\u4F55\\u5927\\u4E8E \",(0,n.jsx)(e.code,{children:\"2^50\"}),\" \\u5468\\u671F\\u957F\\u5EA6\\u7684\\u751F\\u6210\\u5668\\u90FD\\u662F\\u53EF\\u7528\\u7684\\uFF0C\\u5927\\u4E8E \",(0,n.jsx)(e.code,{children:\"2^100\"}),\" \\u5219\\u53EF\\u8BA9\\u4F2A\\u968F\\u673A\\u6027\\u4EE5\\u5047\\u4E71\\u771F\"]}),(0,n.jsx)(e.li,{children:\"\\u7ECF\\u5F97\\u8D77\\u968F\\u673A\\u6027\\u6D4B\\u8BD5\"})]}),(0,n.jsxs)(e.p,{children:[\"\\u5F53\\u524D\\u6709\\u8BB8\\u591A PRNG \\u7B97\\u6CD5\\u6EE1\\u8DB3\\u6216\\u8FDC\\u8D85\\u4E0A\\u8FF0\\u8981\\u6C42\\u3002\",(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Xorshift\",children:\"Xorshift\"}),\" \\u901F\\u5EA6\\u5FEB\\u4E14\\u8010\\u5F97\\u4F4F\\u4E25\\u683C\\u7684\\u7EDF\\u8BA1\\u6D4B\\u8BD5\\u3002xorgens4096 \\u662F xorshift \\u7684\\u53D8\\u4F53\\uFF0C\\u57FA\\u4E8E JavaScript \\u5F00\\u53D1\\u5B9E\\u73B0\\uFF0C\\u5B83\\u6709 4096 \\u4F4D\\u72B6\\u6001\\u7A7A\\u95F4\\uFF0C\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\u8FBE 2^4096\\uFF0C\\u5E76\\u4E14\\u6BD4 Chrome \\u4E2D\\u7684 MWC16 \\u8FD0\\u884C\\u901F\\u5EA6\\u66F4\\u5FEB\\u3002\\u6B64\\u5916\\uFF0C\\u5B83\\u80FD\\u591F\\u65E0\\u7CFB\\u7EDF\\u6545\\u969C\\u5730\\u901A\\u8FC7 BigCrush \\u7684\\u6D4B\\u8BD5\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6700\\u8FD1\\u7684\\u5B9E\\u8DF5\\u8868\\u660E\\uFF0C\\u4F7F\\u7528 xorshift \\u751F\\u6210\\u7684\\u7ED3\\u679C\\u4E58\\u4EE5\\u5E38\\u91CF\\u7684\\u7ED3\\u679C\\u4E5F\\u53EF\\u4EE5\\u901A\\u8FC7 BigCrush \\u5BF9\\u975E\\u7EBF\\u6027\\u8F6C\\u6362\\u751F\\u6210\\u5668\\u7684\\u6D4B\\u8BD5\\u3002\\u6B64\\u7C7B\\u751F\\u6210\\u5668\\u88AB\\u79F0\\u4E3A \",(0,n.jsx)(e.code,{children:\"xorshift\\\\*\"}),\"\\uFF0C\\u5B83\\u4EEC\\u89E3\\u6790\\u901F\\u5EA6\\u5FEB\\u3001\\u6613\\u4E8E\\u65F6\\u95F4\\u4E14\\u5185\\u5B58\\u4F7F\\u7528\\u6548\\u7387\\u9AD8\\uFF0C\\u5176\\u4E2D \",(0,n.jsx)(e.code,{children:\"xorshift102\\\\*\"}),\"\\u5C31\\u6EE1\\u8DB3\\u751A\\u81F3\\u8D85\\u8FC7\\u4EE5\\u4E0A\\u7684\\u5168\\u90E8\\u8981\\u6C42\\u3002\\u5982\\u679C\\u5185\\u5B58\\u5360\\u7528\\u95EE\\u9898\\u4E25\\u91CD\\uFF0C\\u4E5F\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"xorshift64\\\\*\"}),\"\\uFF0C\\u5B83\\u6BD4 MWC1616 \\u7684\\u5185\\u5B58\\u5360\\u7528\\u7387\\u76F8\\u540C\\uFF0C\\u4F46\\u5FAA\\u73AF\\u5468\\u671F\\u66F4\\u957F\\u3001\\u89E3\\u6790\\u66F4\\u5FEB\\u3002\\u53E6\\u4E00\\u4E2A\\u7EBF\\u6027\\u548C\\u975E\\u7EBF\\u6027\\u7684\\u6DF7\\u5408\\u751F\\u6210\\u5668\\u662F PCG\\uFF0C\\u5B83\\u58F0\\u79F0\\u5177\\u6709\\u548C \",(0,n.jsx)(e.code,{children:\"xorshift\\\\*\"}),\" \\u5177\\u6709\\u76F8\\u4F3C\\u7684\\u6027\\u80FD\\u548C\\u8D28\\u91CF\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6240\\u4EE5\\u8BF4\\u6211\\u4EEC\\u6709\\u8BB8\\u591A\\u53EF\\u9009\\u62E9\\u7684\\u7B97\\u6CD5\\uFF0C\\u5176\\u4E2D\\uFF0C\\u6700\\u5B89\\u5168\\u7684\\u9009\\u62E9\\u4E5F\\u8BB8\\u5C31\\u662F\\u6807\\u51C6\\u7684 Mersenne Twiste\\uFF08\\u9A6C\\u7279\\u8D5B\\u7279\\u65CB\\u8F6C\\u6F14\\u7B97\\u6CD5\\uFF09\\u3002\\u8BE5\\u7B97\\u6CD5\\u6700\\u53D7\\u6B22\\u8FCE\\u7684\\u53D8\\u4F53 MT19937 \\u8BDE\\u751F\\u4E8E\\u4E5D\\u5341\\u5E74\\u4EE3\\u672B\\uFF0C\\u4ECE\\u90A3\\u65F6\\u5F00\\u59CB\\u5B83\\u5C31\\u6210\\u4E3A\\u4E86\\u8BB8\\u591A\\u8F6F\\u4EF6\\u6807\\u51C6\\u7684\\u968F\\u673A\\u6570\\u751F\\u6210\\u7B56\\u7565\\u3002\\u5B83\\u5E76\\u4E0D\\u662F\\u5B8C\\u7F8E\\u7684\\uFF0C\\u4F46\\u4E45\\u7ECF\\u8003\\u9A8C\\u548C\\u5206\\u6790\\uFF0C\\u4E14\\u6613\\u4E8E\\u7406\\u89E3\\u3002\\u503C\\u5F97\\u70AB\\u8000\\u7684\\u662F\\uFF0C\\u5B83\\u7684\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\u8FBE \",(0,n.jsx)(e.code,{children:\"2^19937-1\"}),\"\\uFF0C\\u57FA\\u672C\\u4E0A\\u4E0D\\u4F1A\\u53D1\\u751F\\u78B0\\u649E\\uFF0C\\u4F46\\u4F7F\\u7528\\u8BE5\\u7B97\\u6CD5\\u4F1A\\u5F3A\\u5236\\u8981\\u6C42 2KB \\u7684\\u72B6\\u6001\\u7A7A\\u95F4\\u548C\\u76F8\\u5E94\\u7684\\u5185\\u5B58\\u5360\\u7528\\u3001\\u6027\\u80FD\\u6D88\\u8017\\u3002\\u867D\\u7136\\u65E0\\u6CD5\\u89E3\\u91CA\\uFF0C\\u4F46\\u5B83\\u548C Chrome \\u4E2D \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u7684\\u6267\\u884C\\u901F\\u5EA6\\u4E00\\u6837\\u5FEB\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u6240\\u4EE5\\u6211\\u7684\\u5EFA\\u8BAE\\u5C31\\u662F V8 \\u5E94\\u8BE5\\u8003\\u8651\\u4E00\\u4E0B Dean McNamee \\u516D\\u5E74\\u524D\\u7684\\u5EFA\\u8BAE\\uFF0C\\u4F7F\\u7528\\u9A6C\\u7279\\u8D5B\\u7279\\u65CB\\u8F6C\\u6F14\\u7B97\\u6CD5\\u5B9E\\u73B0 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u4E86\\u3002\\u5B83\\u89E3\\u6790\\u901F\\u5EA6\\u5FEB\\u3001\\u5065\\u58EE\\u4E14\\u5B89\\u5168\\uFF0C\\u5BF9\\u4E0D\\u4E86\\u89E3 PRNG \\u8FD0\\u884C\\u673A\\u5236\\u7684\\u5F00\\u53D1\\u8005\\u4E5F\\u662F\\u5B89\\u5168\\u65E0\\u5BB3\\u7684\\u3002\\u5F53\\u7136\\u4E5F\\u53EF\\u4EE5\\u9009\\u62E9\\u5176\\u4ED6\\u65B9\\u6848\\uFF0C\\u4F46\\u8BF7\\u4E0D\\u8981\\u518D\\u4F7F\\u7528 MWC1616 \\u4E86\\uFF01\"]}),(0,n.jsxs)(e.h2,{id:\"\\u603B\\u7ED3\",children:[(0,n.jsx)(e.a,{href:\"#\\u603B\\u7ED3\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u603B\\u7ED3\"]}),(0,n.jsx)(e.p,{children:\"\\u672C\\u6587\\u4E5F\\u662F\\u591F\\u957F\\u7684\\uFF0C\\u6211\\u4EEC\\u603B\\u7ED3\\u4E00\\u4E0B\\uFF1A\"}),(0,n.jsxs)(e.ul,{children:[(0,n.jsxs)(e.li,{children:[\"V8 \\u4E2D\\u7684 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\" \\u4F7F\\u7528\\u7684 PRNG \\u7B97\\u6CD5\\u662F MWC1616\\u3002\\u5982\\u679C\\u4F60\\u53EA\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"16\"}),\" \\u4F4D\\uFF0C\\u90A3\\u4E48\\u5B83\\u7684\\u5FAA\\u73AF\\u5468\\u671F\\u957F\\u5EA6\\u5C31\\u4F1A\\u5F88\\u77ED\\u3002\\u901A\\u5E38\\u6765\\u8BF4\\uFF0C\\u5B83\\u5728\\u8D28\\u91CF\\u6D4B\\u8BD5\\u4E2D\\u7684\\u8868\\u73B0\\u5F88\\u5DEE\\uFF0C\\u5BF9\\u4E8E\\u5927\\u591A\\u6570\\u7684\\u91CD\\u8981\\u573A\\u666F\\uFF0C\\u5B83\\u6240\\u4F2A\\u9020\\u7684\\u968F\\u673A\\u6027\\u662F\\u4E0D\\u5B89\\u5168\\u7684\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u5982\\u679C\\u4F60\\u6CA1\\u65F6\\u95F4\\u5B9E\\u73B0\\u975E\\u52A0\\u5BC6\\u7684\\u65B9\\u6848\\uFF0C\\u90A3\\u5C31\\u76F4\\u63A5\\u4F7F\\u7528 CSPRNG \\u5427\\u3002\\u6700\\u5B89\\u5168\\u7684\\u7684\\u65B9\\u5F0F\\u5C31\\u662F\\u4F7F\\u7528 \",(0,n.jsx)(e.a,{href:\"http://sockpuppet.org/blog/2014/02/25/safely-generate-random-numbers/\",children:\"urandom\"}),\"\\u3002\\u5728\\u6D4F\\u89C8\\u5668\\u73AF\\u5883\\u4E2D\\uFF0C\\u53EF\\u4EE5\\u4F7F\\u7528 \",(0,n.jsx)(e.code,{children:\"crypto.getRandomValues()\"}),\"\\u3002\"]}),(0,n.jsxs)(e.li,{children:[\"\\u4E5F\\u6709\\u8BB8\\u591A\\u6BD4 MWC1616 \\u901F\\u5EA6\\u66F4\\u5FEB\\u3001\\u8D28\\u91CF\\u66F4\\u9AD8\\u7684\\u975E\\u52A0\\u5BC6 PRNG \\u7B97\\u6CD5\\u3002V8 \\u5E94\\u8BE5\\u4F7F\\u7528\\u5B83\\u4EEC\\u91CD\\u65B0\\u5B9E\\u73B0 \",(0,n.jsx)(e.code,{children:\"Math.random()\"}),\"\\u3002Mersenne Twiste \\u53EF\\u4EE5\\u8BF4\\u662F\\u6700\\u53D7\\u6B22\\u8FCE\\u7684\\u65B9\\u6848\\u4E86\\uFF0C\\u6709\\u53EF\\u80FD\\u4E5F\\u662F\\u6700\\u5B89\\u5168\\u7684\\u65B9\\u6848\\u3002\"]})]}),(0,n.jsx)(e.p,{children:\"\\u6CE8\\u610F\\uFF0CMozilla \\u4E2D\\u4F7F\\u7528\\u4E86\\u6765\\u81EA Java \\u7684 util.Random \\u5305\\uFF0C\\u4E14\\u7565\\u5DEE\\u4E8E MWC1616\\uFF0C\\u6240\\u4EE5 SpiderMonkey \\u4E5F\\u5E94\\u8BE5\\u5347\\u7EA7\\u76F8\\u5173\\u65B9\\u6CD5\\u3002\"}),(0,n.jsxs)(e.h3,{id:\"\\u53C2\\u8003\\u8D44\\u6599\",children:[(0,n.jsx)(e.a,{href:\"#\\u53C2\\u8003\\u8D44\\u6599\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u53C2\\u8003\\u8D44\\u6599\"]}),(0,n.jsxs)(e.ul,{children:[(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"http://digitalcommons.wayne.edu/cgi/viewcontent.cgi?article=1725&context=jmasm\",children:\"Random Number Generators\"})}),(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://en.wikipedia.org/wiki/Multiply-with-carry#General_theory\",children:\"Multiply-with-carry\"})}),(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"http://xorshift.di.unimi.it/\",children:\":::xoroshiro+ / xorshift* / xorshift+ generators and the PRNG shootout\"})}),(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"http://www.mathpages.com/home/kmath580/kmath580.htm\",children:\"Probability of Intersecting Intervals\"})})]}),(0,n.jsxs)(e.blockquote,{children:[(0,n.jsxs)(e.p,{children:[\"\\u672C\\u6587\\u6839\\u636E\",(0,n.jsx)(e.a,{href:\"https://medium.com/@betable\",children:\"@Betable Engineering\"}),\"\\u7684\\u300A\",(0,n.jsx)(e.a,{href:\"https://medium.com/@betable/tifu-by-using-math-random-f1c308c4fd9d#.si669u680\",children:\"TIFU by using Math.random()\"}),\"\\u300B\\u6240\\u8BD1\\uFF0C\\u6574\\u4E2A\\u8BD1\\u6587\\u5E26\\u6709\\u6211\\u4EEC\\u81EA\\u5DF1\\u7684\\u7406\\u89E3\\u4E0E\\u601D\\u60F3\\uFF0C\\u5982\\u679C\\u8BD1\\u5F97\\u4E0D\\u597D\\u6216\\u6709\\u4E0D\\u5BF9\\u4E4B\\u5904\\u8FD8\\u8BF7\\u540C\\u884C\\u670B\\u53CB\\u6307\\u70B9\\u3002\\u5982\\u9700\\u8F6C\\u8F7D\\u6B64\\u8BD1\\u6587\\uFF0C\\u9700\\u6CE8\\u660E\\u82F1\\u6587\\u51FA\\u5904\\uFF1A\",(0,n.jsx)(e.a,{href:\"https://medium.com/@betable/tifu-by-using-math-random-f1c308c4fd9d#.si669u680\",children:\"https://medium.com/@betable/tifu-by-using-math-random-f1c308c4fd9d#.si669u680\"}),\"\\u3002\"]}),(0,n.jsxs)(e.p,{children:[\"\\u539F\\u6587\\u51FA\\u5904\\uFF1A\",(0,n.jsx)(e.a,{href:\"http://www.w3cplus.com/javascript/tifu-by-using-math-random.html\",children:\"http://www.w3cplus.com/javascript/tifu-by-using-math-random.html\"})]})]})]})}}var y=w;return g(M);})();\n;return Component;","toc":[{"value":"PRNG","url":"#prng","depth":2},{"value":"Math.random()","url":"#mathrandom","depth":2},{"value":"V8 PRNG","url":"#v8-prng","depth":2},{"value":"双子生成器","url":"#双子生成器","depth":2},{"value":"MWC1616","url":"#mwc1616","depth":2},{"value":"CSPRNG","url":"#csprng","depth":2},{"value":"V8's PRNG","url":"#v8s-prng","depth":2},{"value":"总结","url":"#总结","depth":2},{"value":"参考资料","url":"#参考资料","depth":3}],"frontMatter":{"authors":null,"readingTime":{"text":"5 min read","minutes":4.84,"time":290400,"words":968},"slug":"math-random","fileName":"math-random.md","locale":"zh","title":"Math.random()","date_published":"2016-05-02T14:42:54.000Z","date_updated":"2018-03-10T01:01:17.000Z","author":"Jeffey Wang","tags":["Node.js"],"summary":"唐纳德·克努特曾在《计算机程序设计的艺术》（卷二）中指出：“当今使用的大部分随机数生成器都不够优秀，而且开发者倾向于拿来就用，不去了解具体的生成策略。以至于我们常常发现一些略有瑕疵、年代久远的随机数生成器会被盲目地用在一个又一个的程序中，而对于它们的局限性，却无人问津。”"}},"authorDetails":[{"authors":null,"readingTime":{"text":"1 min read","minutes":0.335,"time":20100,"words":67},"slug":"default","fileName":"default.md","locale":"zh","name":"Jeffrey Wang","avatar":"//static/images/avatar.jpg","occupation":"前端开发工程师","company":"深圳大学","email":"546323405@qq.com","github":"https://github.com/armyja","sinaWeibo":"sinaweibo://userinfo?uid=1770048285"}],"prev":{"title":"Node.js：exports 与 module.exports 的区别","summary":"","tags":["Node.js"],"slug":"nodejszhong-exportsyu-module-exportsde-qu-bie-xiang-xi-jie-shao","date_published":"2016-04-20T03:35:49.000Z","date_updated":"2016-04-20T06:09:44.000Z","draft":false,"author":"Jeffey Wang","locale":"zh"},"next":{"title":"动态追踪技术漫谈","summary":"动态追踪技术其实是一种后现代的高级调试技术。它可以帮助软件工程师以非常低的成本，在非常短的时间内，回答一些很难的关于软件系统方面的问题，从而更快速地排查和解决问题。","tags":["Knowledge"],"slug":"dynamic-tracing","date_published":"2016-05-11T05:08:02.000Z","date_updated":"2018-03-10T01:00:50.000Z","draft":false,"author":"Jeffey Wang","locale":"zh"},"otherLocales":[],"_nextI18Next":{"initialI18nStore":{"zh":{"common":{"tags":"标签","about":"关于"},"post":{"previous-article":"上一篇文章","next-article":"下一篇文章","view-on-github":"在 GitHub 查看","back":"返回"}}},"initialLocale":"zh","userConfig":{"i18n":{"locales":["zh","en"],"defaultLocale":"zh"},"default":{"i18n":{"locales":["zh","en"],"defaultLocale":"zh"}}}}},"__N_SSG":true}