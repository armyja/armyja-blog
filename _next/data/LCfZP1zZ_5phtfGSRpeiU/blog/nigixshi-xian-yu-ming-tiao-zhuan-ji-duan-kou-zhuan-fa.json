{"pageProps":{"post":{"mdxSource":"var Component=(()=>{var o=Object.create;var s=Object.defineProperty;var t=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var m=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var x=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports),N=(i,a)=>{for(var c in a)s(i,c,{get:a[c],enumerable:!0})},d=(i,a,c,e)=>{if(a&&typeof a==\"object\"||typeof a==\"function\")for(let l of p(a))!g.call(i,l)&&l!==c&&s(i,l,{get:()=>a[l],enumerable:!(e=t(a,l))||e.enumerable});return i};var u=(i,a,c)=>(c=i!=null?o(m(i)):{},d(a||!i||!i.__esModule?s(c,\"default\",{value:i,enumerable:!0}):c,i)),f=i=>d(s({},\"__esModule\",{value:!0}),i);var h=x((k,r)=>{r.exports=_jsx_runtime});var w={};N(w,{default:()=>j,frontmatter:()=>y});var n=u(h()),y={title:\"Nginx\\uFF1A\\u57DF\\u540D\\u8DF3\\u8F6C\\u3001\\u7AEF\\u53E3\\u8F6C\\u53D1\",slug:\"nigixshi-xian-yu-ming-tiao-zhuan-ji-duan-kou-zhuan-fa\",date_published:new Date(1458906435e3),date_updated:new Date(1459704086e3),author:\"Jeffey Wang\",tags:\"Nginx\"};function _(i={}){let{wrapper:a}=i.components||{};return a?(0,n.jsx)(a,Object.assign({},i,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({blockquote:\"blockquote\",p:\"p\",h3:\"h3\",a:\"a\",span:\"span\",ol:\"ol\",li:\"li\",h4:\"h4\",code:\"code\",strong:\"strong\",pre:\"pre\"},i.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:\"\\u8BA9\\u6211\\u70E6\\u5FC3\\u7684\\u4E8B\\u60C5\\u662F\\uFF1A\\u6DF1\\u5927\\u7F51\\u5740[^1]\\u6CA1\\u6709\\u5B8C\\u5584\\u9875\\u9762\\u8DF3\\u8F6C\\uFF01\"})}),(0,n.jsxs)(e.h3,{id:\"\\u76EE\\u6807\",children:[(0,n.jsx)(e.a,{href:\"#\\u76EE\\u6807\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u76EE\\u6807\"]}),(0,n.jsxs)(e.ol,{children:[(0,n.jsxs)(e.li,{children:[\"\\u9876\\u7EA7\\u57DF\\u540D\\u8DF3\\u8F6C\\u81F3\\u4E8C\\u7EA7\\u57DF\\u540D\\uFF0C\\u5982 armyja.cn \\u8DF3\\u8F6C\\u81F3 \",(0,n.jsx)(e.a,{href:\"http://www.armyja.cn\",children:\"www.armyja.cn\"})]}),(0,n.jsx)(e.li,{children:\"\\u7AEF\\u53E3\\u8F6C\\u53D1\\uFF1A Nginx \\u76D1\\u542C 80 \\u7AEF\\u53E3\\uFF0C\\u5C06\\u4E0D\\u540C\\u4E8C\\u7EA7\\u57DF\\u540D\\u5730\\u5740\\u8F6C\\u53D1\\u81F3\\u4E0D\\u540C\\u7F51\\u7AD9\\u9879\\u76EE\"})]}),(0,n.jsxs)(e.h3,{id:\"\\u6B65\\u9AA4\",children:[(0,n.jsx)(e.a,{href:\"#\\u6B65\\u9AA4\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u6B65\\u9AA4\"]}),(0,n.jsxs)(e.blockquote,{children:[(0,n.jsx)(e.p,{children:\"1.\\u5B89\\u88C5 Nginx\"}),(0,n.jsx)(e.p,{children:\"2.\\u4FEE\\u6539 Nginx \\u914D\\u7F6E\\u6587\\u4EF6\"}),(0,n.jsx)(e.p,{children:\"3.\\u5EFA\\u7ACB\\u81EA\\u5DF1\\u7684 Nginx \\u914D\\u7F6E\\u6587\\u4EF6\"}),(0,n.jsx)(e.p,{children:\"4.\\u91CD\\u542F Nginx\"})]}),(0,n.jsxs)(e.h4,{id:\"\\u5B89\\u88C5-nginx\",children:[(0,n.jsx)(e.a,{href:\"#\\u5B89\\u88C5-nginx\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5B89\\u88C5 Nginx\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"sudo apt-get install nginx\"})}),(0,n.jsxs)(e.h4,{id:\"\\u4FEE\\u6539-nginx-\\u914D\\u7F6E\\u6587\\u4EF6\",children:[(0,n.jsx)(e.a,{href:\"#\\u4FEE\\u6539-nginx-\\u914D\\u7F6E\\u6587\\u4EF6\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u4FEE\\u6539 Nginx \\u914D\\u7F6E\\u6587\\u4EF6\"]}),(0,n.jsxs)(e.p,{children:[\"Nginx \\u7684\\u5B89\\u88C5\\u76EE\\u5F55\\u5728 \",(0,n.jsx)(e.code,{children:\"/etc/nginx\"}),\" \\u6216 \",(0,n.jsx)(e.code,{children:\"/usr/local/nginx\"}),\" \\u3002\\u7F16\\u8F91 \",(0,n.jsx)(e.code,{children:\"nginx.conf\"}),\" \\u5982\\u4E0B\\u90E8\\u5206\\uFF0C\\u8BBE\\u7F6E \",(0,n.jsx)(e.strong,{children:\"\\u751F\\u6548\\u7684\\u914D\\u7F6E\\u76EE\\u5F55\"}),\" \\uFF1A\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`##\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`# Virtual Host Configs\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`##\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`include /etc/nginx/conf.d/*.conf;\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`include /etc/nginx/sites-enabled/*;\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`include /etc/nginx/sites-available/*;\n`})]})}),(0,n.jsxs)(e.h4,{id:\"\\u5EFA\\u7ACB\\u81EA\\u5DF1\\u7684-nginx-\\u914D\\u7F6E\\u6587\\u4EF6\",children:[(0,n.jsx)(e.a,{href:\"#\\u5EFA\\u7ACB\\u81EA\\u5DF1\\u7684-nginx-\\u914D\\u7F6E\\u6587\\u4EF6\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u5EFA\\u7ACB\\u81EA\\u5DF1\\u7684 Nginx \\u914D\\u7F6E\\u6587\\u4EF6\"]}),(0,n.jsxs)(e.p,{children:[\"\\u5728 \",(0,n.jsx)(e.strong,{children:\"\\u751F\\u6548\\u7684\\u914D\\u7F6E\\u76EE\\u5F55\"}),\" \\u4E2D\\u5EFA\\u7ACB\\u914D\\u7F6E\\u6587\\u4EF6\\u3002\\u5982\\u5728 \",(0,n.jsx)(e.code,{children:\"/etc/nginx/sites-available/\"}),\" \\u4E0B\\u5EFA\\u7ACB \",(0,n.jsx)(e.code,{children:\"mysite.conf\"}),\" \\uFF0C\\u5185\\u5BB9\\u5982\\u4E0B\\uFF1A\"]}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"code-highlight\",children:[(0,n.jsx)(e.span,{className:\"code-line\",children:`server{\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    listen 0.0.0.0:80; # \\u76D1\\u542C\\u7684\\u7AEF\\u53E3\\u53F7\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    access_log /var/log/nginx/armyja.log;\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    location / {\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        proxy_set_header Host $http_host;\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        proxy_set_header X-NginX-Proxy true;\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        proxy_set_header X-Real-IP $remote_addr;\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        # \\u4E8C\\u7EA7\\u57DF\\u540D\\u8DF3\\u8F6C\\u5230\\u4E00\\u7EA7\\u57DF\\u540D\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        if ($host = 'armyja.cn' ) {\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        rewrite ^/(.*)$ http://www.armyja.cn$1 permanent;\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        }\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        # \\u7F51\\u5740 www.armyja.cn \\u6307\\u5411 ghost \\u535A\\u5BA2\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        if ($host = 'www.armyja.cn' ){\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        proxy_pass http://127.0.0.1:2368;\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        }\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        # \\u7F51\\u5740 supervisor.armyja.cn \\u6307\\u5411 supervisor \\u7684 Web \\u754C\\u9762\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        if ($host = 'supervisor.armyja.cn' ){\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        proxy_pass http://127.0.0.1:9001;\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`        }\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`    }\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`}\n`})]})}),(0,n.jsxs)(e.h4,{id:\"\\u91CD\\u542F-nginx\",children:[(0,n.jsx)(e.a,{href:\"#\\u91CD\\u542F-nginx\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\u91CD\\u542F nginx\"]}),(0,n.jsxs)(e.p,{children:[\"\\u7EC8\\u7AEF\\u8F93\\u5165 \",(0,n.jsx)(e.code,{children:\"service nginx restart\"})]}),(0,n.jsx)(e.p,{children:\"enjoy ~\"})]})}}var j=_;return f(w);})();\n;return Component;","toc":[{"value":"目标","url":"#目标","depth":3},{"value":"步骤","url":"#步骤","depth":3},{"value":"安装 Nginx","url":"#安装-nginx","depth":4},{"value":"修改 Nginx 配置文件","url":"#修改-nginx-配置文件","depth":4},{"value":"建立自己的 Nginx 配置文件","url":"#建立自己的-nginx-配置文件","depth":4},{"value":"重启 nginx","url":"#重启-nginx","depth":4}],"frontMatter":{"authors":null,"readingTime":{"text":"1 min read","minutes":0.9,"time":54000,"words":180},"slug":"nigixshi-xian-yu-ming-tiao-zhuan-ji-duan-kou-zhuan-fa","fileName":"nigixshi-xian-yu-ming-tiao-zhuan-ji-duan-kou-zhuan-fa.md","title":"Nginx：域名跳转、端口转发","date_published":"2016-03-25T11:47:15.000Z","date_updated":"2016-04-03T17:21:26.000Z","author":"Jeffey Wang","tags":["Nginx"]}},"authorDetails":[{"authors":null,"readingTime":{"text":"1 min read","minutes":0.235,"time":14100,"words":47},"slug":"default","fileName":"default.md","name":"Jeffrey Wang","avatar":"//static/images/avatar.jpg","occupation":"前端开发工程师","company":"深圳大学","email":"546323405@qq.com","github":"https://github.com/armyja","sinaWeibo":"sinaweibo://userinfo?uid=1770048285"}],"prev":{"title":"cp命令：复制文件夹","summary":"","tags":["Linux"],"slug":"linux-shell-xiao-ji-qiao","date_published":"2016-03-21T03:18:11.000Z","date_updated":"2016-03-31T12:20:24.000Z","draft":false,"author":"Jeffey Wang"},"next":{"title":"Python 爬虫：简单抓取图片","summary":"","tags":["Python"],"slug":"jian-dan-pa-chong-zhua-qu-tu-pian","date_published":"2016-03-25T12:20:28.000Z","date_updated":"2016-03-26T09:45:38.000Z","draft":false,"author":"Jeffey Wang"}},"__N_SSG":true}